{"version":3,"sources":["Components/ChatRoom/ChatWindow/Header/main.module.scss","Components/ChatRoom/ChatWindow/ChatSection/main.module.scss","Components/ChatRoom/SideBar/RoomList/main.module.scss","Components/Home/main.module.scss","Components/ChatRoom/SideBar/UserInfo/main.module.scss","Components/UserEdit/main.module.scss","Components/ChatRoom/main.module.scss","Components/ChatRoom/SideBar/main.module.scss","Components/ChatRoom/ChatWindow/main.module.scss","Firebase/config.js","Components/Loading/index.js","Components/Login/SignIn.js","Hooks/useFirebase.js","Components/Login/SignUp.js","Components/Home/index.js","static/image/defaultAvatar.png","Components/ChatRoom/SideBar/UserInfo/index.js","static/icon/greater-than-solid.svg","static/icon/plus-square-regular.svg","Components/ChatRoom/SideBar/RoomList/index.js","Components/ChatRoom/SideBar/index.js","static/icon/user-plus-solid.svg","static/icon/arrow-down.svg","Components/ChatRoom/ChatWindow/Header/index.js","static/icon/smile-solid.svg","Components/ChatRoom/ChatWindow/ChatSection/index.js","Components/ChatRoom/ChatWindow/index.js","Components/ChatRoom/index.js","Components/UserEdit/index.js","App.js","reportWebVitals.js","index.js","Components/Login/main.module.scss"],"names":["module","exports","db","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","getDatabase","Loading","className","$","document","querySelector","bind","Validator","options","errorMessage","selectorRules","formElement","form","validate","inputElement","rule","i","selector","length","value","parentElement","classList","add","styles","invalid","innerText","rules","forEach","Array","isArray","push","test","onblur","oninput","remove","onsubmit","e","preventDefault","isRequired","message","trim","undefined","minLength","min","SignIn","navigate","useNavigate","useState","account","setAccount","password","setPassword","useContext","context","setUser","loading","setLoading","signinRef","useRef","useEffect","login","id","style","marginTop","formGroup","htmlFor","spellCheck","autoComplete","type","name","placeholder","onChange","target","current","ref","loginFail","onClick","a","dbRef","get","child","then","snapshot","exists","temp","val","sessionStorage","setItem","userRef","onValue","data","catch","error","console","writeData","collection","slug","state","set","log","err","$$","querySelectorAll","getParent","parentClass","contains","NAME","ACCOUNT_NAME","PASSWORD","PASSWORD_CONFIRMATION","GENDER","initState","accountName","passwordConfirmation","gender","genderAction","action","payload","reducer","option","selectorsRules","formGroupElement","onclick","isPassword","isPasswordComfirmation","SignUp","useReducer","dispatch","submitRef","signupRef","input","onchange","alert","clsx","signUp","formHeader","formHeading","userExist","button","src","Home","home","loginBtn","signinBtn","to","signupBtn","UserInfo","_path","user","userInfo","avata","avatar","alt","buttonWrap","logout","removeItem","_excluded","_extends","Object","assign","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgGreaterThanSolid","_ref","svgRef","title","titleId","props","focusable","role","xmlns","viewBox","fill","d","ForwardRef","SvgPlusSquareRegular","RoomList","addRoombox","inputName","setInputName","inputDescription","setInputDescription","setChatWindow","roomList","display","list","rooms","arr","map","mapRooms","room","handleChatWindow","addRoom","hide","Math","random","toString","substr","description","members","chatbox","host","updates","update","SideBar","SvgUserPlusSolid","_g","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_g14","_g15","SvgArrowDown","xmlnsXlink","x","y","enableBackground","xmlSpace","Header","chatWindow","userInvite","setUserInvite","memberList","setMemberList","userInviteRef","errRef","useMemo","membersRef","chatWindowRef","deleteComfirm","username","handleDelete","isExist","some","snapshot1","handleInviteUser","header","invite","icon1","Avata","icon2","icon3","justifyContent","memberListWrap","img","index","arrowDown","onMouseEnter","roomSetting","onMouseLeave","roomDelete","noroom","margin","SvgSmileSolid","ChatSection","emojiRef","overlayRef","messageRef","messageBox","setMessageBox","handleSend","now","Date","time","toLocaleString","postListRef","newPostRef","me","chatBoxRef","renderBox","unshift","chatSection","chatBox","chatItem","Avatar","sendGroup","inputWrap","emoji","onEmojiClick","event","emojiObject","overlay","contentEditable","onKeyDown","window","innerWidth","ChatWindow","ChatRoom","chatroom","UserEdit","setName","setAvata","editForm","createContext","App","storage","JSON","parse","getItem","location","pathname","stringify","Provider","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d7270b8d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"hide\":\"main_hide__qMCzr\",\"deleteComfirm\":\"main_deleteComfirm__3KEr6\",\"appear\":\"main_appear__ynNLe\",\"header\":\"main_header__1eVGv\",\"members\":\"main_members__3W1fB\",\"memberListWrap\":\"main_memberListWrap__3LhJe\",\"icon1\":\"main_icon1__2KWRQ\",\"icon2\":\"main_icon2__rq35s\",\"icon3\":\"main_icon3__2Owan\",\"arrowDown\":\"main_arrowDown__2bnFx\",\"roomSetting\":\"main_roomSetting__2g0h8\",\"scale\":\"main_scale__1nlaJ\",\"invite\":\"main_invite__w5SZs\",\"userInvite\":\"main_userInvite__1cSMb\",\"error\":\"main_error__G3gii\",\"noroom\":\"main_noroom__3NAZC\",\"memberList\":\"main_memberList__1YsAP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatSection\":\"main_chatSection__3HH8F\",\"chatBox\":\"main_chatBox__34CnR\",\"sendGroup\":\"main_sendGroup__1Ih-c\",\"chatItem\":\"main_chatItem__2Kwf7\",\"name\":\"main_name__19Ubd\",\"time\":\"main_time__1ty5m\",\"me\":\"main_me__1NZQ8\",\"inputWrap\":\"main_inputWrap__3SakK\",\"input\":\"main_input__2bkHr\",\"emoji\":\"main_emoji__I8DPP\",\"emoji-picker-react\":\"main_emoji-picker-react__1gIYq\",\"overlay\":\"main_overlay__35iNh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hide\":\"main_hide__2TV6u\",\"roomList\":\"main_roomList__2Lf01\",\"list\":\"main_list__SHIZv\",\"slideTop\":\"main_slideTop__IV1N8\",\"addRoom\":\"main_addRoom__4CBbs\",\"addRoombox\":\"main_addRoombox__3nx6z\",\"appear\":\"main_appear__3rs8o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"main_home__3yhlU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userInfo\":\"main_userInfo__3mXAp\",\"user\":\"main_user__89aq3\",\"buttonWrap\":\"main_buttonWrap__3DRpq\",\"rotate\":\"main_rotate__VyR-D\",\"changeColor\":\"main_changeColor__2LbP8\",\"logout\":\"main_logout__1Zxo0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editForm\":\"main_editForm__2qoDd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatroom\":\"main_chatroom__1uN1S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SideBar\":\"main_SideBar__2n53m\",\"roomList\":\"main_roomList__Cex3b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatWindow\":\"main_chatWindow__3RwQU\"};","import { initializeApp } from \"firebase/app\"\r\nimport { getDatabase } from \"firebase/database\";\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyD7qlRtJFMoX3kS3meXSTVK5FJyLYSjQZE\",\r\n    authDomain: \"chat-app-b6c92.firebaseapp.com\",\r\n    databaseURL: \"https://chat-app-b6c92-default-rtdb.asia-southeast1.firebasedatabase.app\",\r\n    projectId: \"chat-app-b6c92\",\r\n    storageBucket: \"chat-app-b6c92.appspot.com\",\r\n    messagingSenderId: \"813309308115\",\r\n    appId: \"1:813309308115:web:f894823381c23bed0ab826\",\r\n    measurementId: \"G-BYW0P6GBV7\"\r\n  };\r\n\r\n  const app = initializeApp(firebaseConfig)\r\n  const db = getDatabase()\r\n  export {db}","import './main.css'\r\n\r\nfunction Loading()\r\n{\r\n    return <div className='loading-wrap'>\r\n        <div className='loader'>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Loading\r\n","import { useEffect, useRef, useState ,useContext} from 'react'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport { ref, child, get,onValue } from \"firebase/database\"\r\n\r\nimport Loading from '../Loading'\r\nimport {db} from '../../Firebase/config'\r\nimport styles from './main.module.scss'\r\nimport { context } from '../../App'\r\nconst $ = document.querySelector.bind(document)\r\n\r\nfunction Validator(options)\r\n{\r\n    const selectorRules = {}\r\n    const formElement = $(options.form)\r\n    let errorMessage\r\n    function validate(inputElement,rule)\r\n    {\r\n        for(var i = 0;i<selectorRules[rule.selector].length;i++)\r\n        {\r\n            errorMessage = selectorRules[rule.selector][i](inputElement.value)\r\n            if(errorMessage)\r\n                break\r\n        }\r\n        if(errorMessage)\r\n        {\r\n            inputElement.parentElement.classList.add(styles.invalid)\r\n            inputElement.parentElement.querySelector('span').innerText = errorMessage\r\n        }\r\n    }\r\n    if(formElement)\r\n    {\r\n        options.rules.forEach((rule)=>{\r\n            if(Array.isArray(selectorRules[rule.selector]))\r\n            {\r\n                selectorRules[rule.selector].push(rule.test)\r\n            }\r\n            else\r\n            {\r\n                selectorRules[rule.selector] = [rule.test]\r\n            }\r\n\r\n            let inputElement = formElement.querySelector(rule.selector)\r\n            inputElement.onblur = ()=>{\r\n                validate(inputElement,rule)\r\n            }\r\n            inputElement.oninput = ()=>{\r\n                inputElement.parentElement.classList.remove(styles.invalid)\r\n                inputElement.parentElement.querySelector('span').innerText = ''\r\n            }\r\n        })\r\n        formElement.onsubmit = (e)=>{\r\n            e.preventDefault()\r\n            options.rules.forEach((rule)=>{\r\n                let inputElement = formElement.querySelector(rule.selector)\r\n                validate(inputElement,rule)\r\n            })\r\n        }\r\n    }\r\n}\r\nValidator.isRequired = (selector,message)=>{\r\n    return {\r\n        selector,\r\n        test:(value)=>{\r\n            return value.trim()?undefined:message||'vui lòng nhập trường này!'\r\n        }\r\n    }\r\n}\r\nValidator.minLength = (selector,min,message)=>{\r\n    return {\r\n        selector,\r\n        test:(value)=>{\r\n            return value.length>=min?undefined:message||`Trường này tôi tối thiểu ${min} kí tự!`\r\n        }\r\n    }\r\n}\r\nfunction SignIn()\r\n{\r\n    const navigate = useNavigate()\r\n    const [account,setAccount] = useState('')\r\n    const [password,setPassword] = useState('')\r\n    const {setUser,loading,setLoading} = useContext(context)\r\n    const signinRef = useRef()\r\n    useEffect(()=>{\r\n        Validator({\r\n            form:'#form1',\r\n            rules:[\r\n                Validator.isRequired('#accountName','Vui lòng nhập tên tài khoản!'),\r\n                Validator.isRequired('#password','Vui lòng nhập mật khẩu'),\r\n                Validator.minLength('#password',6,'mật khẩu phải tối thiểu 6 kí tự!'),\r\n            ]\r\n        })\r\n    },[])\r\n    return (\r\n        <>\r\n        {loading?<Loading/>:''}\r\n        <div className={styles.login}>\r\n            <form id='form1'>\r\n                <h2 style={{marginTop:'0'}} >Đăng Nhập</h2>\r\n                <div className={styles.formGroup}>\r\n                    <label htmlFor=\"accountName\">Tên tài khoản</label>\r\n                    <input \r\n                        spellCheck='false'\r\n                        value={account}\r\n                        autoComplete='off'\r\n                        type=\"text\" \r\n                        name=\"accountName\"\r\n                        id=\"accountName\" \r\n                        placeholder=\"VD: expample123\"\r\n                        onChange={(e)=>{\r\n                            setAccount(e.target.value)\r\n                            signinRef.current.innerText=''\r\n                        }}\r\n                    />\r\n                    <span className={styles.errorMessage}></span>\r\n                </div>\r\n                <div className={styles.formGroup}>\r\n                    <label htmlFor=\"password\">Mật khẩu</label>\r\n                    <input \r\n                        value={password}\r\n                        placeholder='Nhập mật khẩu...'\r\n                        type=\"password\" \r\n                        name=\"password\"\r\n                        id=\"password\" \r\n                        onChange={(e)=>{\r\n                            setPassword(e.target.value)\r\n                            signinRef.current.innerText=''\r\n                        }}\r\n                    />\r\n                    <span className={styles.errorMessage}></span>\r\n                </div>\r\n                <span ref={signinRef} className={styles.loginFail}></span>\r\n                <button onClick={ async ()=>{\r\n                    if(account && password.length>=6)\r\n                    {\r\n                        setLoading(!loading)\r\n                        const dbRef = ref(db);\r\n                        let temp\r\n                        await get(child(dbRef, `users/`+account)).then((snapshot) => {\r\n                          if (snapshot.exists()) {\r\n                            temp=snapshot.val()\r\n                            if(temp.password === password)\r\n                            {\r\n                                sessionStorage.setItem('user',temp)\r\n                                setUser(temp)\r\n                                navigate('/Chat-Room/chatroom')\r\n\r\n                                const userRef = ref(db, 'users/' + account)\r\n                                onValue(userRef, (snapshot) => {\r\n                                const data = snapshot.val()\r\n                                setUser(data)\r\n                                })\r\n\r\n                            }\r\n                            else{\r\n                                signinRef.current.innerText='Tài khoản hoặc mật khẩu không chính xác!'\r\n                            }\r\n                          }\r\n                          else{\r\n                            signinRef.current.innerText='Tài khoản hoặc mật khẩu không chính xác!'\r\n                          }\r\n                            setLoading(false)\r\n                        }).catch((error) => {\r\n                          console.error(error);\r\n                        })\r\n\r\n                        \r\n                    }\r\n                }} >\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                Đăng Nhập</button>\r\n            </form>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SignIn","import {db} from '../Firebase/config'\r\nimport { ref, set } from \"firebase/database\"\r\n\r\nfunction writeData(collection,slug='',state) {\r\n    set(ref(db,collection+slug), {\r\n      ...state\r\n    })\r\n    .then(()=>{\r\n      console.log('susscess')\r\n    })\r\n    .catch(err=>console.log(err))\r\n  }\r\n\r\nexport default writeData","import clsx from 'clsx'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport { useEffect, useReducer, useRef ,useContext} from 'react'\r\nimport {  ref,get ,child} from \"firebase/database\"\r\n\r\nimport {context} from '../../App'\r\nimport Loading from '../Loading'\r\nimport writeData from '../../Hooks/useFirebase'\r\nimport styles from './main.module.scss'\r\nimport {db} from '../../Firebase/config'\r\n// import { FacebookAuthProvider,signInWithPopup } from \"firebase/auth\";\r\n// const fbProvider = new FacebookAuthProvider();\r\n\r\nvar $ = document.querySelector.bind(document)\r\nvar $$ = document.querySelectorAll.bind(document)\r\n\r\nfunction getParent(child,parentClass)\r\n{\r\n    while(child!==null)\r\n    {\r\n        if(child.parentElement.classList.contains(parentClass))\r\n            return child.parentElement\r\n        child = child.parentElement\r\n        \r\n    }\r\n}\r\n\r\n//CONSTANTS\r\nconst NAME='name'\r\nconst ACCOUNT_NAME='accountName'\r\nconst PASSWORD='password'\r\nconst PASSWORD_CONFIRMATION='passwordConfirmation'\r\nconst GENDER='gender'\r\n\r\n// initial state\r\nconst initState = {\r\n    name:'',\r\n    accountName:'',\r\n    password:'',\r\n    passwordConfirmation:'',\r\n    gender:null\r\n}\r\n\r\n// Action\r\nfunction nameAction(value)\r\n{\r\n    return {\r\n        action:NAME,\r\n        payload:value\r\n    }\r\n}\r\nfunction accountNameAction(value)\r\n{\r\n    return {\r\n        action:ACCOUNT_NAME,\r\n        payload:value\r\n    }\r\n}\r\nfunction passwordAction(value)\r\n{\r\n    return {\r\n        action:PASSWORD,\r\n        payload:value\r\n    }\r\n}\r\nfunction passwordComfirmAction(value)\r\n{\r\n    return {\r\n        action:PASSWORD_CONFIRMATION,\r\n        payload:value\r\n    }\r\n}\r\nfunction genderAction(value)\r\n{\r\n    return {\r\n        action:GENDER,\r\n        payload:value\r\n    }\r\n}\r\n\r\n// reducer\r\nfunction reducer(state,option)\r\n    {\r\n        switch (option.action) {\r\n            case NAME:\r\n                return{\r\n                    ...state,\r\n                    name:option.payload\r\n                }\r\n            case ACCOUNT_NAME:\r\n                return{\r\n                    ...state,\r\n                    accountName:option.payload\r\n                }\r\n            case PASSWORD:\r\n                return{\r\n                    ...state,\r\n                    password:option.payload\r\n                }\r\n            case PASSWORD_CONFIRMATION:\r\n                return{\r\n                    ...state,\r\n                    passwordConfirmation:option.payload\r\n                }\r\n            case GENDER:\r\n                {\r\n                    return {\r\n                        ...state,\r\n                        gender:option.payload\r\n                    }\r\n                }\r\n            default:\r\n                return state\r\n        }\r\n        \r\n    }\r\n\r\n// Validator instant\r\nfunction Validator(options)\r\n{\r\n    let selectorsRules = {}\r\n    let formElement = $(options.form)\r\n    let errorMessage\r\n    if(formElement)\r\n    {\r\n        function validate(inputElement,rule,formGroupElement)\r\n        {\r\n            formGroupElement = getParent(inputElement,styles.formGroup)\r\n            if(inputElement)\r\n            {\r\n                for(var i = 0;i<selectorsRules[rule.selector].length;i++)\r\n                {\r\n                    errorMessage = selectorsRules[rule.selector][i](inputElement.value)\r\n                    if(errorMessage)\r\n                        break\r\n                }\r\n            }\r\n            if(errorMessage)\r\n            {\r\n                formGroupElement.classList.add(styles.invalid)\r\n                formGroupElement.querySelector('span').innerText = errorMessage\r\n            }\r\n        }\r\n        options.rules.forEach((rule)=>{\r\n            let inputElement = formElement.querySelector(rule.selector)\r\n            let formGroupElement = getParent(inputElement,styles.formGroup)\r\n            if(Array.isArray(selectorsRules[rule.selector]))\r\n            {\r\n                selectorsRules[rule.selector].push(rule.test)\r\n            }\r\n            else{\r\n                selectorsRules[rule.selector] = [rule.test]\r\n            }\r\n            inputElement.onblur = ()=>{\r\n                validate(inputElement,rule)\r\n            }\r\n            inputElement.oninput = ()=>{\r\n                formGroupElement.classList.remove(styles.invalid)\r\n                formGroupElement.querySelector('span').innerText = ''\r\n            }\r\n        })\r\n        formElement.querySelector('button').onclick =()=>{\r\n            options.rules.forEach((rule)=>{\r\n                let inputElement = formElement.querySelector(rule.selector)\r\n                let formGroupElement = getParent(inputElement,styles.formGroup)\r\n                validate(inputElement,rule,formGroupElement)\r\n            })\r\n        }\r\n    }\r\n}\r\nValidator.isRequired = (selector,message)=>{\r\n    return{\r\n        selector,\r\n        test:(value)=>{\r\n            return value.trim()?undefined:message||'Vui lòng nhập trường này!'\r\n        }\r\n    }\r\n}\r\nValidator.isPassword = (selector,min)=>{\r\n    return{\r\n        selector,\r\n        test:(value)=>{\r\n            return value.length>=6?undefined:`mật khẩu phải tối thiểu ${min} kí tự!`\r\n        }\r\n    }\r\n}\r\nValidator.isPasswordComfirmation = (selector,password,message)=>{\r\n    return{\r\n        selector,\r\n        test:(value)=>{\r\n            return value === password()?undefined:message||'Nhập lại không chính xác!'\r\n        }\r\n    }\r\n}\r\n\r\nfunction SignUp()\r\n{  \r\n    const navigate = useNavigate()\r\n    const [state,dispatch] = useReducer(reducer,initState)\r\n    const {loading,setLoading} = useContext(context)\r\n    const submitRef = useRef()\r\n    const signupRef = useRef()\r\n    useEffect(()=>{\r\n        Validator({\r\n            form:'#form1',\r\n            rules:[\r\n                Validator.isRequired('#name','vui lòng nhập tên đầy đủ!'),\r\n                Validator.isRequired('#accountName','vui lòng nhập tên tài khoản!'),\r\n                Validator.isRequired('#password','vui lòng nhập mật khẩu!'),\r\n                Validator.isPassword('#password',6),\r\n                Validator.isRequired('#password_confirmation','vui lòng nhập lại mật khẩu!'),\r\n                Validator.isPassword('#password_confirmation',6),\r\n                Validator.isPasswordComfirmation(\r\n                    '#password_confirmation',\r\n                    ()=>{\r\n                        return $('#form1').querySelector('#password').value\r\n                    },\r\n                    'Mật khẩu xác nhận không chính xác!'\r\n                ),\r\n            ]\r\n        })\r\n\r\n        let genderElements = [...$$('input[type=radio]')]\r\n        genderElements.forEach((input)=>{\r\n            input.onchange = ()=>{\r\n                $('#gender').querySelector('span').innerText=''\r\n            }\r\n        })\r\n    },[])\r\n    useEffect(()=>{\r\n        $('#form1').onsubmit = (e)=>{\r\n            e.preventDefault()\r\n            if(state.gender)\r\n            {\r\n                $('#gender').querySelector('span').innerText=''\r\n                $('#gender').classList.remove(styles.invalid)\r\n            }\r\n            else{\r\n                $('#gender').querySelector('span').innerText='vui lòng chọn giới tính'\r\n                $('#gender').classList.add(styles.invalid)\r\n            }\r\n            const isSubmit = !$(`.${styles.invalid}`)\r\n            if(isSubmit)\r\n            {\r\n                setLoading(!loading)\r\n                const temp = state\r\n                delete temp.passwordConfirmation\r\n                console.log(temp)\r\n\r\n                const dbRef = ref(db);\r\n                get(child(dbRef, `users/${temp.accountName}`)).then((snapshot) => {\r\n                if (snapshot.exists()) {\r\n                    signupRef.current.innerText='Tên tài khoản đã tồn tại!'\r\n                } else {\r\n                    writeData('users/',temp.accountName,temp)\r\n                    alert('Đăng ký thành công! Xin mời đăng nhập!')\r\n                    navigate('/Chat-Room/signin')\r\n                }\r\n                setLoading(false)\r\n                }).catch((error) => {\r\n                console.error(error);\r\n                })\r\n            }\r\n        }\r\n    },[state])\r\n\r\n    return(\r\n        <>\r\n        {loading?<Loading/>:''}\r\n        <div className={clsx(styles.login,styles.signUp)}>\r\n            <form action=\"POST\" id=\"form1\" autoComplete=\"off\">\r\n                <div className={clsx(styles.formHeader)}>\r\n                    <h1 className={clsx(styles.formHeading)}>\r\n                        Đăng kí thành viên\r\n                    </h1>\r\n                </div>\r\n\r\n                <div className={clsx(styles.formGroup)}>\r\n                    <label htmlFor=\"name\">Tên đầy đủ</label>\r\n                    <input\r\n                        spellCheck='false'\r\n                        value={state.name}\r\n                        type=\"text\" \r\n                        name=\"name\"\r\n                        id=\"name\" \r\n                        placeholder=\"VD: Lê Văn Thi\"\r\n                        onChange={(e)=>{dispatch(nameAction(e.target.value))}}\r\n                    />\r\n                    <span className={clsx(styles.errorMessage)}></span>\r\n                </div>\r\n\r\n                <div className={clsx(styles.formGroup)}>\r\n                    <label htmlFor=\"accountName\">Tên tài khoản</label>\r\n                    <input \r\n                        value={state.accountName}\r\n                        spellCheck='false' \r\n                        name=\"accountName\" \r\n                        id=\"accountName\" \r\n                        placeholder=\"VD: example1001\"\r\n                        onChange={(e)=>{\r\n                            dispatch(accountNameAction(e.target.value))\r\n                            signupRef.current.innerText=''\r\n                        }}/>\r\n                    <span className={clsx(styles.errorMessage)}></span>\r\n                </div>\r\n\r\n                <div className={clsx(styles.formGroup)}>\r\n                    <label htmlFor=\"password\">Mật khẩu</label>\r\n                    <input \r\n                        value={state.password} \r\n                        type=\"password\" \r\n                        name=\"password\" \r\n                        id=\"password\" \r\n                        placeholder=\"Mật khẩu\"\r\n                        onChange={(e)=>{dispatch(passwordAction(e.target.value))}}/>\r\n                    <span className={clsx(styles.errorMessage)}></span>\r\n                </div>\r\n\r\n                <div className={clsx(styles.formGroup)}>\r\n                    <label htmlFor=\"password_confirmation\">Nhập lại mật khẩu</label>\r\n                    <input \r\n                        value={state.passwordConfirmation} \r\n                        type=\"password\" \r\n                        name=\"password_confirmation\" \r\n                        id=\"password_confirmation\" \r\n                        placeholder=\"Nhập lại mật khẩu\"\r\n                        onChange={(e)=>{dispatch(passwordComfirmAction(e.target.value))}}/>\r\n                    <span className={clsx(styles.errorMessage)}></span>\r\n                </div>\r\n\r\n                <div id='gender' className={clsx(styles.formGroup)}>\r\n                    <label>Giới tính</label>\r\n                    <div>\r\n                        <input\r\n                            type=\"radio\" \r\n                            name=\"gender\" \r\n                            value=\"male\"\r\n                            onChange={(e)=>dispatch(genderAction(e.target.value))}\r\n                        />Nam\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                            type=\"radio\" \r\n                            name=\"gender\" \r\n                            value=\"female\"\r\n                            onChange={(e)=>dispatch(genderAction(e.target.value))}\r\n                            />Nu\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                            type=\"radio\" \r\n                            name=\"gender\" \r\n                            value=\"other\"\r\n                            onChange={(e)=>dispatch(genderAction(e.target.value))}\r\n                            />Khac\r\n                    </div>\r\n                    <span className={clsx(styles.errorMessage)}></span>\r\n                </div>\r\n\r\n                <span ref={signupRef} className={styles.userExist} ></span>\r\n                <button ref={submitRef} className={clsx(styles.button)}>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    Đăng ký\r\n                </button>\r\n\r\n            </form>\r\n\r\n            <script src='../../library/Validator'></script>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SignUp\r\n","import clsx from 'clsx'\r\nimport {Link} from 'react-router-dom'\r\nimport styles from './main.module.scss'\r\n\r\n\r\nfunction Home()\r\n{\r\n    console.log('home:rerender')\r\n    return (\r\n        <div className={clsx(styles.home)}>\r\n            <h2>WELCOME TO CHAT APP</h2>\r\n            <Link className={styles.loginBtn,styles.signinBtn} to='/Chat-Room/signin'>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                Đăng Nhập\r\n            </Link>\r\n            <Link className={styles.loginBtn,styles.signupBtn} to='/Chat-Room/signup'>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                Đăng Ký\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAVFBMVEWZmZn///+WlpaampqTk5P39/efn5/19fX8/PygoKD5+fmjo6POzs6wsLDBwcHp6ena2tq6urqqqqrR0dHs7Ozi4uLGxsbPz8+0tLTj4+Pc3Ny9vb0PK3Y6AAAHRklEQVR4nO2dDXuiMAzHaVooUEAp4jn9/t/zEsDNbb4C9mVPfnd4U3EPf5MmbWl6ScIwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMNEh8QDEEUP0/M/BSqTtt1XXddV+9ZKpcD3Ja2GJHlZc9TiEn1sMhL5F0wJSjY7cY1dI/+CJZXZXpU3sjXK9wUuRJn+jj6ij1uj6lBDfkcfvdfFK1HV6QMDjqR1pBrV/il9xD5KiepRC7ykj1Hi9Qxxi11siRGkfqzqG1rGlRrhVYFoRd/X/BJq87JAITYRtUV1rxtzm200EtVplkAhTrFINDMFCmEgipA6qxGOxNEUYa6PEqcYUgY81xm9ThqBwhd6o9eIoIcK9wZLj8lV6LEGmkUChWhC91P1Wof7N7vQ3dQuFCiE9S3hPsO0xTICn9RQr48pfqLDVpjdnXd6hlxkvkXcA9rFJhSiDTmawvJmiA0xYIVyQaf7i03ASV+uEGgo1ISrcGmXbSQP2EsxlK5ByMF0/uj+EuNbxh1YISsMX+HfjzTJKtnCt4h7qCWzUGfSkAcXK/XafMu4A8y7YfGdbch9msXzUETYc1FrpIuQkwWFmsVj/KADzSoNMfC7iFAvVlgH3QxxDLw0I6Yhj38JqBYqrMI2IRpRLlQoAzchuumyWLMN3UmRbEm+yIMeV0yoJS2xCjtVTMxYD3VGhx5mBuSCnFjHsdpk/i22wG+sXQC7GbegcrGLII6ekeUMC5YyEh8lwMywoYkizJyB1+/n26gEksTyhbaYizI2gZgzilfSoi4iaoNnAD6eFthDbBYceXqJWwSL2W6gzDPzp5tI1s1eR7WPWqNuVdzVlqCaexp1o5S01kTUm/kNqLq/njfyvlYAxoLKbMyOShqT9vjTknrbjhWktbK1kYXvi3wGmdyeYwF0xnrf9ZvNbrPpu/3hs9Q5M0Yqk8SR8OX9rEal6qhL0cPXiZmRmcHHKBRCUTzVmiZTj6VcUKOBbfAzbAMSslfihQQzTjtZa8n64WtEJ8ymnRPGZ3B++fP98Ykc/Jk0ZbTBgkS/nd7/dm5wkqXJMlIIsqA2VWRZMTwzWUGmAvxn+DOcDKYYTsZHg/kCOzUwvZ2Rxqwo6IegJEqJPkoXDYVK6KKVlKrAiyTXTTIyCCQYYhKFdlOAeUKSS+PH8OSsAKCxBajpdBzs4/tBCUSjkK6C2qKka4RCWkUXj4qkwuu1tj01TVVVezqatrVoWkoZ6KH4CfyYpL/0aTBQmOFL863qAjIgeeLwA/mokgUKRJsVtumOG52neS5yXYoSD5HnJfZyUo2ZsanJniAl2jHLhgOdFA0a2IBxFIaG+1KIkuvqqEmKTss8TVOUVOKRCpSZos601CQ1131Vk53pW5oUJsWYHwMSiZ6FvpVMRsDUXu97NFuudZnSQ64/FaJafIIKS7Qn/VTSF9BXllrhYEf6XVM89q3rAjlGBzQCet2hQx0lXnqelihH6/Rsw0EdGo9u95Pq4eURobuDUvQFUZAiTw1K35QtMF5mtiM/HC4avXAUiDYsyX5apKOsYT51UI9NE78JOrCt6n9WqvF3UVoJrB8wZHTVTqN6MmFJOkpsaRRczkc6vPR50qCUXDaf3v9o1dAzoEATkhEHFNwd7T6LbiDEeRvK16c11u0R6SnEeQ1VL63Lu2QX3IYukBxX1EccQ2qFMlHtGktnv5O3KphICnBcXLJ2RaHYhpLxwawRQa+hw5jbUIc36SMOAQQctcai2ds03iUu3GDgMb7v2tDyoPWDzBc5LSLyGVHfbkHCpxXVGmW/j2m9SVxhQfBz+Jryh+yVxQjzyUXpqSWuUiDzHH7KaDDKuLAgkXtZlQnr1Bo+i4cyk8XbtLyG+01dVqlwegX31VCu2uAZ13WXixZzz8NxsJGuTYhGdJoU1T/nAoX459CIcpX9L14kd7nR2ZtHvbdwOBp2nAvPuMuJM5Y4r4OzMcbC4q35OCovlYmaU2uwBqUrN7XOBhXfyUXtRuAK++rNxVHZkKdISjiKputs0TIPJwWYq+yrNxcn+/F5bIaOGqLDCajfOJmS8tHr/sTJbnVuZ6B+4mBGCg6e8j2Ruwg14OJmzG3271fords94mDPBfV8zd07cBBMPfbZCAf9NvA1dBpxMYDyKlCI968i8tnvJt7f9/ab8F2k/L+v0Nc825n3/8cCrlYn3OLtm505W3/BCt+q0OcA0cGWfH8/H87+T9XW4eCg4EtZf33vPnMxiyETdfAzGXWsna1tB5VVjg1Z9g24LTNBke32XSvYf5BvqtqxPELS/gFgm+3unQNG/dGdzLcdChwzbJMAmT1V241eU2m567t9a6VPcd8YN4SQpm6bqjt+bHa6fLVbkJd6t+m33f50sEUy7CwRYE3+pHTc+ULKzFhbH9q2aZo9Ul1CLzTNqW0PtTUmk3L6IKiwamOvc1lnDg9IfugJzmgMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzDMBf8B1W5aouBvtcYAAAAASUVORK5CYII=\"","import { useContext } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport styles from './main.module.scss'\r\nimport avatar from '../../../../static/image/defaultAvatar.png'\r\nimport {context} from '../../../../App'\r\nfunction UserInfo()\r\n{\r\n    const navigate = useNavigate()\r\n    const {user,setUser} = useContext(context)\r\n    return(\r\n        <div className={styles.userInfo}>\r\n            <div className={styles.user}>\r\n                <Link to='/Chat-Room/useredit'>\r\n                    <img src={user.avata||avatar} alt='avata'/>\r\n                </Link>\r\n                <span>{user.name}</span>\r\n            </div>\r\n            <div className={styles.buttonWrap}>\r\n                <button \r\n                    className={styles.logout} \r\n                    onClick = {()=>{\r\n                        sessionStorage.removeItem('user')\r\n                        setUser(null)\r\n                        navigate('/Chat-Room/signin')\r\n                    }}\r\n                >Đăng xuất</button>\r\n                <span></span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserInfo\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGreaterThanSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"greater-than\",\n    className: \"svg-inline--fa fa-greater-than fa-w-12\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 384 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M365.52 209.85L59.22 67.01c-16.06-7.49-35.15-.54-42.64 15.52L3.01 111.61c-7.49 16.06-.54 35.15 15.52 42.64L236.96 256.1 18.49 357.99C2.47 365.46-4.46 384.5 3.01 400.52l13.52 29C24 445.54 43.04 452.47 59.06 445l306.47-142.91a32.003 32.003 0 0 0 18.48-29v-34.23c-.01-12.45-7.21-23.76-18.49-29.01z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGreaterThanSolid);\nexport default __webpack_public_path__ + \"static/media/greater-than-solid.2f6abf5f.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlusSquareRegular(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"far\",\n    \"data-icon\": \"plus-square\",\n    className: \"svg-inline--fa fa-plus-square fa-w-14\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlusSquareRegular);\nexport default __webpack_public_path__ + \"static/media/plus-square-regular.18883807.svg\";\nexport { ForwardRef as ReactComponent };","import {useRef,useState,useContext} from 'react'\r\nimport { ref, child, get,update } from \"firebase/database\"\r\n\r\nimport writeData from '../../../../Hooks/useFirebase'\r\nimport styles from './main.module.scss'\r\nimport {ReactComponent as Gthan} from '../../../../static/icon/greater-than-solid.svg'\r\nimport {ReactComponent as Plus} from '../../../../static/icon/plus-square-regular.svg'\r\nimport {context} from '../../../../App'\r\nimport {db} from '../../../../Firebase/config'\r\n\r\nvar ID = function () {\r\n    return Math.random().toString(36).substr(2, 9);\r\n}\r\nfunction RoomList()\r\n{\r\n    const addRoombox = useRef()\r\n    const [inputName,setInputName] = useState('')\r\n    const [inputDescription,setInputDescription] = useState('')\r\n    const {user,setChatWindow,loading,setLoading,setUser} = useContext(context)\r\n    function handleAddRoom()\r\n    {\r\n        let id =ID()\r\n        writeData('chatrooms/',id,{\r\n            name:inputName,\r\n            description:inputDescription,\r\n            members:{[user.accountName]:{avata:user.avata||''}},\r\n            chatbox:[],\r\n            host:user.accountName,\r\n            id:id,\r\n        })\r\n        \r\n        const updates = {}\r\n        updates[`users/${user.accountName}/rooms/${id}`]={name:inputName}\r\n        update(ref(db), updates)\r\n\r\n\r\n        addRoombox.current.style.display='none'\r\n        setInputName('')\r\n        setInputDescription('')\r\n    }\r\n    function mapRooms(rooms){\r\n        let arr =[]\r\n        Object.keys(rooms).map((id)=>{\r\n            arr.push({id,name:rooms[id].name})\r\n        })\r\n        return arr\r\n    }\r\n    function handleChatWindow(id)\r\n    {\r\n        setLoading(!loading)\r\n        const dbRef = ref(db)\r\n        get(child(dbRef, 'chatrooms/'+id)).then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n            setChatWindow(snapshot.val())\r\n            setLoading(false)\r\n        } else {\r\n            console.log(\"No data available\");\r\n        }\r\n        }).catch((error) => {\r\n        console.error(error);\r\n        })\r\n    }\r\n    return(\r\n        <>\r\n        <div className={styles.roomList}>\r\n            <input style={{display:'none'}} type='checkbox' id='roomlist' />\r\n            <label htmlFor='roomlist'>\r\n                <Gthan/>\r\n            </label>\r\n            <span>Danh sách phòng</span>\r\n            <ul className={styles.list}>\r\n                {user.rooms?mapRooms(user.rooms).map((room)=>{\r\n                    return (\r\n                        <li onClick={()=>handleChatWindow(room.id)} key={room.id}>{room.name}</li>\r\n                    )\r\n                }):''}\r\n                <li \r\n                    className={`${styles.addRoom}`} \r\n                    onClick={()=>{\r\n                        addRoombox.current.classList.remove(styles.hide)\r\n                        addRoombox.current.style.display='block'\r\n                    }}>\r\n                    <Plus/>\r\n                    Thêm phòng\r\n                </li>\r\n            </ul>\r\n        </div>\r\n\r\n        <div ref={addRoombox} className={`${styles.addRoombox}  ${styles.hide}`}>\r\n            <span onClick={()=>{\r\n                addRoombox.current.classList.add(styles.hide)\r\n                setInputName('')\r\n                setInputDescription('')\r\n            }} >&times;</span>\r\n            <h4>Tên phòng</h4>\r\n            <input \r\n                value={inputName} \r\n                placeholder='Nhập tên phòng...' \r\n                onChange={(e)=>setInputName(e.target.value)} \r\n            />\r\n            <h4>Mô tả</h4>\r\n            <textarea\r\n                value={inputDescription}\r\n                placeholder='Mô tả phòng...'\r\n                onChange={e=>setInputDescription(e.target.value)}\r\n            ></textarea>\r\n            <button onClick={handleAddRoom} >Thêm</button>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RoomList\r\n","\r\nimport styles from './main.module.scss'\r\nimport UserInfo from './UserInfo'\r\nimport RoomList from './RoomList'\r\n\r\nfunction SideBar()\r\n{\r\n    return (\r\n        <div className={styles.SideBar}>\r\n            <UserInfo/>\r\n            <RoomList/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SideBar\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgUserPlusSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"user-plus\",\n    className: \"svg-inline--fa fa-user-plus fa-w-20\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 640 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUserPlusSolid);\nexport default __webpack_public_path__ + \"static/media/user-plus-solid.0d49266d.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 330 330\",\n    style: {\n      enableBackground: \"new 0 0 330 330\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    id: \"XMLID_225_\",\n    d: \"M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393 c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393 s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null)), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowDown);\nexport default __webpack_public_path__ + \"static/media/arrow-down.600ee40a.svg\";\nexport { ForwardRef as ReactComponent };","import { useContext,useState,useRef, useEffect,useMemo } from 'react'\r\nimport {  ref, child, get,update,onValue,set,remove } from \"firebase/database\"\r\nimport clsx from 'clsx'\r\n\r\nimport { db } from '../../../../Firebase/config'\r\nimport {context} from '../../../../App'\r\nimport styles from './main.module.scss'\r\nimport {ReactComponent as UserAdd} from '../../../../static/icon/user-plus-solid.svg'\r\nimport Avata from '../../../../static/image/defaultAvatar.png'\r\nimport {ReactComponent as ArrowDown} from '../../../../static/icon/arrow-down.svg'\r\nfunction Header()\r\n{\r\n    const {chatWindow,setChatWindow,user} = useContext(context)\r\n    const [userInvite,setUserInvite] = useState()\r\n    const [memberList,setMemberList] = useState()\r\n    const userInviteRef = useRef()\r\n    const errRef = useRef()\r\n    let id\r\n    useMemo(()=>{\r\n        if(chatWindow){\r\n            id=chatWindow.id\r\n            const membersRef = ref(db, '/chatrooms/' + id + '/members');\r\n            onValue(membersRef, (snapshot) => {\r\n                const data = snapshot.val();\r\n                setMemberList(data)\r\n            })\r\n        }\r\n    },[chatWindow])\r\n    useEffect(()=>{\r\n        if(id)\r\n        {\r\n            const chatWindowRef = ref(db, 'chatrooms/' + id)\r\n            onValue(chatWindowRef, (snapshot) => {\r\n                const data = snapshot.val();\r\n                setChatWindow(data);\r\n            })\r\n        }\r\n    },[id])\r\n    function handleInviteUser()\r\n    {\r\n        if(!userInvite){\r\n            errRef.current.innerText='Vui lòng nhập tên tài khoản'\r\n            return\r\n        }\r\n        const dbRef = ref(db)\r\n        get(child(dbRef, `users/${userInvite}`)).then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n            let rooms = snapshot.val().rooms || {}\r\n            let isExist = Object.keys(rooms).some((id)=>{\r\n                return id===chatWindow.id\r\n            })\r\n            if(isExist)\r\n            {\r\n                errRef.current.innerText='Người dùng đã tồn tại trong phòng!'\r\n                return\r\n            }\r\n            let updates = {}\r\n            updates[`users/${userInvite}/rooms/${chatWindow.id}`] = {name:chatWindow.name}\r\n            update(dbRef,updates)\r\n\r\n            get(child(dbRef, `users/${userInvite}/avata`)).then((snapshot1) => {\r\n            if (snapshot1.exists()){\r\n                set(ref(db, 'chatrooms/' + chatWindow.id+'/members/'+userInvite), {\r\n                    avata:snapshot1.val()\r\n                  })\r\n            } else {\r\n                set(ref(db, 'chatrooms/' + chatWindow.id+'/members/'+userInvite), {\r\n                    avata:''\r\n                  })\r\n            }\r\n            }).catch((error) => {\r\n            console.error(error);\r\n            })\r\n            \r\n\r\n            userInviteRef.current.classList.add(styles.hide)\r\n            userInviteRef.current.style.display='none'\r\n            errRef.current.innerText=''\r\n            setUserInvite('')\r\n        } else {\r\n            errRef.current.innerText='Không tìm thấy người dùng!'\r\n        }\r\n        }).catch((error) => {\r\n        console.error(error);\r\n        })\r\n    }\r\n    function handleDelete()\r\n    {\r\n        const dbRef = ref(db);\r\n        get(child(dbRef, `chatrooms/${chatWindow.id}/members`)).then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n            Object.keys(snapshot.val()).forEach((username)=>{\r\n                console.log(username)\r\n                remove(ref(db,`users/${username}/rooms/${chatWindow.id}`))\r\n            })\r\n            remove(ref(db,`chatrooms/${chatWindow.id}`))\r\n            setChatWindow(null)\r\n        } else {\r\n            console.log(\"No data available\");\r\n        }\r\n        }).catch((error) => {\r\n        console.error(error);\r\n        })\r\n    }\r\n    return(\r\n        <>\r\n            <div className={clsx(styles.deleteComfirm,styles.hide)}>\r\n                <h4>Bạn chắc chắn muốn xóa phòng?</h4>\r\n                <button\r\n                    onClick={(e)=>{\r\n                        e.target.parentElement.classList.add(styles.hide)\r\n                        e.target.parentElement.style.display='none'\r\n                        handleDelete()\r\n                    }}\r\n                >Xóa</button>\r\n                <button\r\n                    onClick={(e)=>{\r\n                        e.target.parentElement.classList.add(styles.hide)\r\n                        e.target.parentElement.style.display='none'\r\n                    }}\r\n                >Hủy</button>\r\n            </div>\r\n            <div ref={userInviteRef} className={clsx(styles.userInvite,styles.hide)}>\r\n                <div  onClick={()=>{\r\n                    errRef.current.innerText=''\r\n                    userInviteRef.current.classList.add(styles.hide)\r\n                    userInviteRef.current.style.display='none'\r\n                    setUserInvite('')\r\n                    }}>x</div>\r\n                <h3>Mời</h3>\r\n                <input\r\n                    placeholder='Nhập tài khoản người dùng...' \r\n                    value={userInvite}\r\n                    onChange={e=>{errRef.current.innerText='';setUserInvite(e.target.value)}}\r\n                />\r\n                <p ref={errRef} className={styles.error} ></p>\r\n                <button onClick={()=>{\r\n                    handleInviteUser()\r\n                    }} >Mời</button>\r\n            </div>\r\n            {chatWindow?\r\n                <div className={styles.header}>\r\n                    <div>\r\n                        <h4>{chatWindow.name}</h4>\r\n                        <span>{chatWindow.description}</span>\r\n                    </div>\r\n                    <div>\r\n                        <span \r\n                            onClick={()=>{\r\n                                userInviteRef.current.style.display='block'\r\n                                userInviteRef.current.classList.remove(styles.hide)\r\n                            }} \r\n                            className={styles.invite}\r\n                        >\r\n                            <UserAdd/>\r\n                            <span>\r\n                                Mời\r\n                            </span>\r\n                        </span>\r\n                        {memberList?<span className={styles.members}>\r\n                            <div className={styles.icon1}>\r\n                                <img \r\n                                    src={memberList[Object.keys(memberList)[0]].avata?\r\n                                        memberList[Object.keys(memberList)[0]].avata:\r\n                                        Avata\r\n                                    } \r\n                                    alt='img1' \r\n                                />\r\n                            </div>\r\n                            {Object.keys(memberList).length>1?<div className={styles.icon2}><img \r\n                                src={memberList[Object.keys(memberList)[1]].avata?\r\n                                    memberList[Object.keys(memberList)[1]].avata:\r\n                                    Avata\r\n                                } \r\n                                alt='img2' \r\n                            /></div>\r\n                            :''}\r\n                            {Object.keys(memberList).length>=3?\r\n                                <div className={styles.icon3}><span style={{justifyContent:'center'}}>\r\n                                    +{Object.keys(memberList).length-2}\r\n                                </span></div>\r\n                                :''\r\n                            }\r\n                            {Object.keys(memberList).length>=3?\r\n                                <span className={styles.memberListWrap}>\r\n                                    <span className={clsx(styles.memberList)}>\r\n                                        {Object.keys(memberList).map((img,index)=>{\r\n                                            return <img key={index} src={memberList[img].avata||Avata} alt='img' />\r\n                                        })}\r\n                                    </span>\r\n                                </span>\r\n                                :''\r\n                            }\r\n                            \r\n                        </span>:''}\r\n                        {chatWindow.host===user.accountName?\r\n                            <span \r\n                                className={styles.arrowDown}\r\n                                onMouseEnter={()=>{\r\n                                    document.querySelector(`.${styles.roomSetting}`).style.display='flex'\r\n                                }}\r\n                                onMouseLeave={()=>{\r\n                                    document.querySelector(`.${styles.roomSetting}`).style.display='none'\r\n                                }}\r\n                            >\r\n                                <ArrowDown />\r\n                                <span className={clsx(styles.roomSetting)}>\r\n                                    <div \r\n                                        onClick={(e)=>{\r\n                                            document.querySelector(`.${styles.deleteComfirm}`).style.display='block'\r\n                                            document.querySelector(`.${styles.deleteComfirm}`).classList.remove(styles.hide)\r\n                                            e.target.parentElement.style.display='none'\r\n                                        }} \r\n                                        className={styles.roomDelete}\r\n                                    >Xóa phòng</div>\r\n                                </span>\r\n                            </span>:''}\r\n                    </div>\r\n                </div>\r\n                :<h1 className={styles.noroom} style={{margin:'40px auto'}}>Vui lòng chọn room chat!!!</h1>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSmileSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"smile\",\n    className: \"svg-inline--fa fa-smile fa-w-16\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 496 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm-160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm194.8 170.2C334.3 380.4 292.5 400 248 400s-86.3-19.6-114.8-53.8c-13.6-16.3 11-36.7 24.6-20.5 22.4 26.9 55.2 42.2 90.2 42.2s67.8-15.4 90.2-42.2c13.4-16.2 38.1 4.2 24.6 20.5z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSmileSolid);\nexport default __webpack_public_path__ + \"static/media/smile-solid.89f57b17.svg\";\nexport { ForwardRef as ReactComponent };","import clsx from 'clsx'\r\nimport {useContext,useEffect,useState,useRef} from 'react'\r\nimport { ref, push, set,onValue } from \"firebase/database\"\r\nimport Picker from 'emoji-picker-react'\r\n\r\nimport Loading from '../../../Loading'\r\nimport {ReactComponent as SmileIcon} from '../../../../static/icon/smile-solid.svg'\r\nimport { db } from '../../../../Firebase/config'\r\nimport { context } from '../../../../App'\r\nimport styles from './main.module.scss'\r\nimport Avatar from '../../../../static/image/defaultAvatar.png'\r\n\r\nfunction ChatSection()\r\n{\r\n    //emojy\r\n    const emojiRef = useRef()\r\n    const overlayRef = useRef()\r\n    const onEmojiClick = (event, emojiObject) => {\r\n        messageRef.current.innerText+=emojiObject.emoji\r\n    }   \r\n\r\n\r\n    // app\r\n    const messageRef = useRef()\r\n    const {chatWindow,user,loading} = useContext(context)\r\n    const [messageBox,setMessageBox] = useState()\r\n    useEffect(()=>{\r\n        if(chatWindow)\r\n        {\r\n            const chatBoxRef = ref(db, 'chatrooms/' + chatWindow.id + '/chatBox');\r\n            onValue(chatBoxRef, (snapshot) => {\r\n                setMessageBox(snapshot.val())\r\n            })\r\n        }\r\n    },[chatWindow])\r\n    function handleSend()\r\n    {\r\n        if(messageRef.current.innerText==='')\r\n        {\r\n            messageRef.current.innerText=''\r\n            return\r\n        }\r\n        let now = new Date()\r\n        let data={\r\n            message:messageRef.current.innerText,\r\n            avata:user['avata']||'',\r\n            name:user.name,\r\n            time:now.toLocaleString(),\r\n            account:user.accountName\r\n        }\r\n        const postListRef = ref(db, `chatrooms/${chatWindow.id}/chatBox`)\r\n        const newPostRef = push(postListRef);\r\n        set(newPostRef,data)\r\n        messageRef.current.innerText=''\r\n    }\r\n\r\n    function me(name)\r\n    {\r\n        if(name===user.accountName)\r\n        {\r\n            return styles.me\r\n        }\r\n    }\r\n    console.log('chatSection-render')\r\n    if(chatWindow)\r\n    {\r\n        let renderBox =[]\r\n        if(!chatWindow[\"chatBox\"])\r\n        {\r\n            chatWindow[\"chatBox\"] = {}\r\n        }\r\n        for(var i in messageBox)\r\n        {\r\n            renderBox.unshift(messageBox[i])\r\n        }\r\n        return(\r\n            <>\r\n                <div className={styles.chatSection}>\r\n                    <div className={styles.chatBox}>\r\n                        {renderBox.map((chatItem)=>\r\n                        {\r\n                            return (\r\n                                <div \r\n                                    key={Math.random().toString(36).substr(2, 9)} \r\n                                    className={\r\n                                        clsx(styles.chatItem,\r\n                                        me(chatItem.account)\r\n                                        )\r\n                                    }>\r\n                                    <div>\r\n                                        <img src={chatItem.avata||Avatar} alt='img'/>\r\n                                        <span className={styles.name}>{chatItem.name}</span>\r\n                                        <span className={styles.time} >{chatItem.time}</span>\r\n                                    </div>\r\n                                    <p>{chatItem.message}</p>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                        \r\n                    </div>\r\n                </div>\r\n                <div className={styles.sendGroup}>\r\n                    <div className={styles.inputWrap}>\r\n                        {/* emoji */}\r\n                        <div \r\n                            ref={emojiRef} \r\n                            className={styles.emoji} \r\n                        >\r\n                        <Picker onEmojiClick={onEmojiClick} />\r\n                        </div>\r\n                        <div \r\n                            ref={overlayRef} \r\n                            className={styles.overlay}\r\n                            onClick={()=>{\r\n                                overlayRef.current.style.display='none'\r\n                                emojiRef.current.style.display='none'\r\n                            }}\r\n                        ></div>\r\n                        <div \r\n                            ref={messageRef}\r\n                            contentEditable='true'\r\n                            data-text=\"Nhập tin nhắn...\"\r\n                            className={styles.input}\r\n                            onKeyDown={e=>{\r\n                                if(e.key==='Enter')\r\n                                {\r\n                                    if(window.innerWidth>=740)\r\n                                        e.preventDefault()\r\n                                    handleSend()\r\n                                }\r\n                            }}\r\n                        ></div>\r\n                        <SmileIcon\r\n                            onClick={()=>{\r\n                                // emojiRef.current.style.display='block'\r\n                                if(emojiRef.current.style.display==='block')\r\n                                {\r\n                                    emojiRef.current.style.display='none'\r\n                                }\r\n                                else\r\n                                {\r\n                                    overlayRef.current.style.display='block'\r\n                                    emojiRef.current.style.display='block'\r\n                                }\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <button\r\n                        onClick={handleSend}\r\n                    >Gửi</button>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n    return <span className='responsive'> {loading?<Loading/>:''}</span>\r\n}\r\n\r\nexport default ChatSection","\r\nimport styles from './main.module.scss'\r\nimport Header from './Header'\r\nimport ChatSection from './ChatSection'\r\nfunction ChatWindow()\r\n{\r\n    return(\r\n        <div className={styles.chatWindow}>\r\n            <Header/>\r\n            <ChatSection/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatWindow\r\n","\r\nimport styles from './main.module.scss'\r\nimport SideBar from './SideBar'\r\nimport ChatWindow from './ChatWindow'\r\n\r\nfunction ChatRoom()\r\n{\r\n    console.log('chat-room:rerender')\r\n    return (\r\n        <div className={styles.chatroom}>\r\n            <SideBar/>\r\n            <ChatWindow/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatRoom\r\n","import { useContext ,useEffect,useState} from 'react'\r\nimport {ref,update,set} from 'firebase/database'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport { db } from '../../Firebase/config'\r\nimport {context} from '../../App'\r\nimport styles from './main.module.scss'\r\n\r\nfunction UserEdit()\r\n{\r\n    console.log('useredit:rerender')\r\n    const {user} = useContext(context)\r\n    const [name,setName] = useState()\r\n    const [avata,setAvata] = useState()\r\n    const navigate = useNavigate()\r\n    useEffect(()=>{\r\n        setName(user.name)\r\n        setAvata(user.avata)\r\n    },[user])\r\n    function handleEdit(e)\r\n    {\r\n        e.preventDefault()\r\n        if(!name)\r\n            return\r\n        else{\r\n            const updates = {}\r\n            updates[`users/${user.accountName}/name`] = name\r\n            updates[`users/${user.accountName}/avata`] = avata\r\n            update(ref(db),updates)\r\n            let rooms = Object.keys(user.rooms||{})||[]\r\n            rooms.forEach((room)=>\r\n            {\r\n                set(ref(db, 'chatrooms/' + room +'/members/'+user.accountName), {\r\n                    avata:avata\r\n                  })\r\n            })\r\n\r\n            navigate('/Chat-Room/chatroom')\r\n        }\r\n    }\r\n    return(\r\n        <form className={styles.editForm}>\r\n            <span>Tên đầy đủ</span>\r\n            <input \r\n                spellCheck='false'\r\n                value={name}\r\n                onChange={e=>{setName(e.target.value)}}\r\n                className={styles.name}\r\n            />\r\n            <span>Avatar URL</span>\r\n            <input\r\n                spellCheck='false'\r\n                value={avata}\r\n                onChange={e=>{setAvata(e.target.value)}}\r\n                className={styles.avata}\r\n            />\r\n            <button onClick={handleEdit} >\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                Lưu\r\n            </button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default UserEdit\r\n\r\n","import {Routes,Route,useNavigate} from 'react-router-dom'\nimport {useState,useEffect,createContext, useMemo,useRef, useCallback, useLayoutEffect} from 'react'\nimport { ref, onValue } from \"firebase/database\"\n\nimport './App.css';\nimport {db} from './Firebase/config'\nimport SignIn from './Components/Login/SignIn';\nimport SignUp from './Components/Login/SignUp';\nimport Home from './Components/Home';\nimport ChatRoom from './Components/ChatRoom';\nimport UserEdit from './Components/UserEdit';\nexport const context = createContext()\n\n\n\nfunction App() {\n\n  const [user,setUser] = useState()\n  const [chatWindow,setChatWindow] = useState()\n  const [loading,setLoading] = useState(false)\n  const navigate = useNavigate()\n  useEffect(()=>{\n    let storage = JSON.parse(sessionStorage.getItem('user'))\n    if(storage)\n    {\n      setUser(storage)\n      navigate('Chat-Room/chatroom')\n\n      const userRef = ref(db, 'users/' + JSON.parse(sessionStorage.getItem('user')).accountName)\n      onValue(userRef, (snapshot) => {\n        const data = snapshot.val()\n        setUser(data)\n      })\n      console.log('call')\n    }\n  },[])\n  // useEffect(()=>{\n  //   if(user)\n  //   {\n  //     const userRef = ref(db, 'users/' + user.accountName)\n  //     onValue(userRef, (snapshot) => {\n  //       const data = snapshot.val()\n  //       setUser(data)\n  //     })\n  //   }\n  // },[])\n  useEffect(()=>{\n    if(chatWindow)\n    {\n      setChatWindow(null)\n    }\n  },[window.location.pathname])\n  useEffect(()=>{\n    if(user)\n    {\n      sessionStorage.setItem('user',JSON.stringify(user))\n    }\n  },[user])\n  console.log(user)\n  console.log('app:rerender')\n  return (\n    <context.Provider value={{user,setUser,chatWindow,setChatWindow,loading,setLoading}}>\n      <Routes>\n        <Route path='/Chat-Room/signin' element={user?<ChatRoom/>:<SignIn setUser={setUser}/>}/> \n        <Route path='/Chat-Room/signup' element={user?<ChatRoom/>:<SignUp/>}/> \n        <Route path='/Chat-Room/chatroom' element={user?<ChatRoom/>:<Home/>}/> \n        <Route path='/Chat-Room/useredit' element={user?<UserEdit/>:<SignIn/>}/> \n        <Route path='/Chat-Room/' element={user?<ChatRoom/>:<Home/>}/>\n      </Routes>\n    </context.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"main_login__22hVo\",\"signUp\":\"main_signUp__1ptbx\",\"formHeading\":\"main_formHeading__2k895\",\"formPara\":\"main_formPara__2JWuK\",\"formGroup\":\"main_formGroup__26tHh\",\"invalid\":\"main_invalid__1BBJU\",\"loginFail\":\"main_loginFail__2vw7M\",\"userExist\":\"main_userExist__365nr\"};"],"sourceRoot":""}