{"version":3,"sources":["Components/ChatRoom/ChatWindow/ChatSection/main.module.scss","Components/ChatRoom/ChatWindow/Header/main.module.scss","Components/ChatRoom/SideBar/RoomList/main.module.scss","Components/ChatRoom/SideBar/UserInfo/main.module.scss","Components/UserEdit/main.module.scss","Components/Home/main.module.scss","Components/ChatRoom/main.module.scss","Components/ChatRoom/SideBar/main.module.scss","Components/ChatRoom/ChatWindow/main.module.scss","Firebase/config.js","Components/Login/SignIn.js","Hooks/useFirebase.js","Components/Login/SignUp.js","Components/Home/index.js","static/image/defaultAvatar.png","Components/ChatRoom/SideBar/UserInfo/index.js","static/icon/greater-than-solid.svg","static/icon/plus-square-regular.svg","Components/ChatRoom/SideBar/RoomList/index.js","Components/ChatRoom/SideBar/index.js","static/icon/user-plus-solid.svg","Components/ChatRoom/ChatWindow/Header/index.js","Components/ChatRoom/ChatWindow/ChatSection/index.js","Components/ChatRoom/ChatWindow/index.js","Components/ChatRoom/index.js","Components/UserEdit/index.js","App.js","reportWebVitals.js","index.js","Components/Login/main.module.scss"],"names":["module","exports","db","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","getDatabase","$","document","querySelector","bind","Validator","options","errorMessage","selectorRules","formElement","form","validate","inputElement","rule","i","selector","length","value","parentElement","classList","add","styles","invalid","innerText","rules","forEach","Array","isArray","push","test","onblur","oninput","remove","onsubmit","e","preventDefault","isRequired","message","trim","undefined","minLength","min","SignIn","navigate","useNavigate","useState","account","setAccount","password","setPassword","setUser","useContext","context","signinRef","useRef","useEffect","className","login","id","style","marginTop","formGroup","htmlFor","autoComplete","type","name","placeholder","onChange","target","current","ref","onClick","a","dbRef","get","child","then","snapshot","exists","temp","val","sessionStorage","setItem","catch","error","console","writeData","collection","slug","state","set","log","err","$$","querySelectorAll","getParent","parentClass","contains","NAME","ACCOUNT_NAME","PASSWORD","PASSWORD_CONFIRMATION","GENDER","initState","accountName","passwordConfirmation","gender","genderAction","action","payload","reducer","option","selectorsRules","formGroupElement","onclick","isPassword","isPasswordComfirmation","SignUp","useReducer","dispatch","submitRef","signupRef","input","onchange","alert","clsx","signUp","formHeader","formHeading","button","src","Home","home","to","UserInfo","_path","user","userInfo","avata","avatar","alt","logout","removeItem","_excluded","_extends","Object","assign","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgGreaterThanSolid","_ref","svgRef","title","titleId","props","focusable","role","xmlns","viewBox","fill","d","ForwardRef","SvgPlusSquareRegular","RoomList","addRoombox","inputName","setInputName","inputDescription","setInputDescription","setChatWindow","roomList","display","list","rooms","map","room","handleChatWindow","addRoom","Math","random","toString","substr","description","members","chatbox","arrRoom","unshift","SideBar","SvgUserPlusSolid","Header","chatWindow","userInvite","setUserInvite","userInviteRef","errRef","chatWindowRef","onValue","data","some","updates","update","snapshot1","header","invite","Avata","justifyContent","noroom","margin","ChatSection","setMessage","messageBox","setMessageBox","handleSend","now","Date","time","toLocaleString","postListRef","newPostRef","me","chatBoxRef","renderBox","chatSection","chatBox","chatItem","Avatar","sendGroup","onKeyDown","ChatWindow","ChatRoom","chatroom","UserEdit","setName","setAvata","editForm","createContext","App","accountRef","useLayoutEffect","storage","JSON","parse","getItem","userUpdate","stringify","Provider","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.1436bf71.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatSection\":\"main_chatSection__3HH8F\",\"chatBox\":\"main_chatBox__34CnR\",\"sendGroup\":\"main_sendGroup__1Ih-c\",\"chatItem\":\"main_chatItem__2Kwf7\",\"name\":\"main_name__19Ubd\",\"time\":\"main_time__1ty5m\",\"me\":\"main_me__1NZQ8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"main_header__1eVGv\",\"members\":\"main_members__3W1fB\",\"invite\":\"main_invite__w5SZs\",\"userInvite\":\"main_userInvite__1cSMb\",\"appear\":\"main_appear__ynNLe\",\"error\":\"main_error__G3gii\",\"noroom\":\"main_noroom__3NAZC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"roomList\":\"main_roomList__2Lf01\",\"list\":\"main_list__SHIZv\",\"slideTop\":\"main_slideTop__IV1N8\",\"addRoom\":\"main_addRoom__4CBbs\",\"addRoombox\":\"main_addRoombox__3nx6z\",\"appear\":\"main_appear__3rs8o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userInfo\":\"main_userInfo__3mXAp\",\"user\":\"main_user__89aq3\",\"logout\":\"main_logout__1Zxo0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editForm\":\"main_editForm__2qoDd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"main_home__3yhlU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatroom\":\"main_chatroom__1uN1S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SideBar\":\"main_SideBar__2n53m\",\"roomList\":\"main_roomList__Cex3b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatWindow\":\"main_chatWindow__3RwQU\"};","import { initializeApp } from \"firebase/app\"\r\nimport { getDatabase } from \"firebase/database\";\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyD7qlRtJFMoX3kS3meXSTVK5FJyLYSjQZE\",\r\n    authDomain: \"chat-app-b6c92.firebaseapp.com\",\r\n    databaseURL: \"https://chat-app-b6c92-default-rtdb.asia-southeast1.firebasedatabase.app\",\r\n    projectId: \"chat-app-b6c92\",\r\n    storageBucket: \"chat-app-b6c92.appspot.com\",\r\n    messagingSenderId: \"813309308115\",\r\n    appId: \"1:813309308115:web:f894823381c23bed0ab826\",\r\n    measurementId: \"G-BYW0P6GBV7\"\r\n  };\r\n\r\n  const app = initializeApp(firebaseConfig)\r\n  const db = getDatabase()\r\n  export {db}","import { useEffect, useRef, useState ,useContext} from 'react'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport {db} from '../../Firebase/config'\r\nimport { ref, child, get } from \"firebase/database\"\r\nimport styles from './main.module.scss'\r\nimport { context } from '../../App'\r\nconst $ = document.querySelector.bind(document)\r\n\r\nfunction Validator(options)\r\n{\r\n    const selectorRules = {}\r\n    const formElement = $(options.form)\r\n    let errorMessage\r\n    function validate(inputElement,rule)\r\n    {\r\n        for(var i = 0;i<selectorRules[rule.selector].length;i++)\r\n        {\r\n            errorMessage = selectorRules[rule.selector][i](inputElement.value)\r\n            if(errorMessage)\r\n                break\r\n        }\r\n        if(errorMessage)\r\n        {\r\n            inputElement.parentElement.classList.add(styles.invalid)\r\n            inputElement.parentElement.querySelector('span').innerText = errorMessage\r\n        }\r\n    }\r\n    if(formElement)\r\n    {\r\n        options.rules.forEach((rule)=>{\r\n            if(Array.isArray(selectorRules[rule.selector]))\r\n            {\r\n                selectorRules[rule.selector].push(rule.test)\r\n            }\r\n            else\r\n            {\r\n                selectorRules[rule.selector] = [rule.test]\r\n            }\r\n\r\n            let inputElement = formElement.querySelector(rule.selector)\r\n            inputElement.onblur = ()=>{\r\n                validate(inputElement,rule)\r\n            }\r\n            inputElement.oninput = ()=>{\r\n                inputElement.parentElement.classList.remove(styles.invalid)\r\n                inputElement.parentElement.querySelector('span').innerText = ''\r\n            }\r\n        })\r\n        formElement.onsubmit = (e)=>{\r\n            e.preventDefault()\r\n            options.rules.forEach((rule)=>{\r\n                let inputElement = formElement.querySelector(rule.selector)\r\n                validate(inputElement,rule)\r\n            })\r\n        }\r\n    }\r\n}\r\nValidator.isRequired = (selector,message)=>{\r\n    return {\r\n        selector,\r\n        test:(value)=>{\r\n            return value.trim()?undefined:message||'vui lòng nhập trường này!'\r\n        }\r\n    }\r\n}\r\nValidator.minLength = (selector,min,message)=>{\r\n    return {\r\n        selector,\r\n        test:(value)=>{\r\n            return value.length>=min?undefined:message||`Trường này tôi tối thiểu ${min} kí tự!`\r\n        }\r\n    }\r\n}\r\nfunction SignIn()\r\n{\r\n    const navigate = useNavigate()\r\n    const [account,setAccount] = useState('')\r\n    const [password,setPassword] = useState('')\r\n    const {setUser} = useContext(context)\r\n    const signinRef = useRef()\r\n    useEffect(()=>{\r\n        Validator({\r\n            form:'#form1',\r\n            rules:[\r\n                Validator.isRequired('#accountName','Vui lòng nhập tên tài khoản!'),\r\n                Validator.isRequired('#password','Vui lòng nhập mật khẩu'),\r\n                Validator.minLength('#password',6,'mật khẩu phải tối thiểu 6 kí tự!'),\r\n            ]\r\n        })\r\n    },[])\r\n    \r\n    return (\r\n        <div className={styles.login}>\r\n            <form id='form1'>\r\n                <h2 style={{marginTop:'0'}} >Đăng Nhập</h2>\r\n                <div className={styles.formGroup}>\r\n                    <label htmlFor=\"accountName\">Username</label>\r\n                    <input \r\n                        value={account}\r\n                        autoComplete='off'\r\n                        type=\"text\" \r\n                        name=\"accountName\"\r\n                        id=\"accountName\" \r\n                        placeholder=\"VD: expample123\"\r\n                        onChange={(e)=>{\r\n                            setAccount(e.target.value)\r\n                            signinRef.current.innerText=''\r\n                        }}\r\n                    />\r\n                    <span className={styles.errorMessage}></span>\r\n                </div>\r\n                <div className={styles.formGroup}>\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input \r\n                        value={password}\r\n                        placeholder='Enter password...'\r\n                        type=\"password\" \r\n                        name=\"password\"\r\n                        id=\"password\" \r\n                        onChange={(e)=>{\r\n                            setPassword(e.target.value)\r\n                            signinRef.current.innerText=''\r\n                        }}\r\n                    />\r\n                    <span className={styles.errorMessage}></span>\r\n                </div>\r\n                <span ref={signinRef}></span>\r\n                <button onClick={ async ()=>{\r\n                    if(account && password.length>=6)\r\n                    {\r\n                        const dbRef = ref(db);\r\n                        let temp\r\n                        await get(child(dbRef, `users/`+account)).then((snapshot) => {\r\n                          if (snapshot.exists()) {\r\n                            temp=snapshot.val()\r\n                            if(temp.password === password)\r\n                            {\r\n                                sessionStorage.setItem('user',temp)\r\n                                setUser(temp)\r\n                                navigate('/Chat-Room/chatroom')\r\n                            }\r\n                            else{\r\n                                signinRef.current.innerText='Username or password incorrect!'\r\n                            }\r\n                          } else {\r\n                            signinRef.current.innerText='Username or password incorrect!'\r\n                          }\r\n                        }).catch((error) => {\r\n                          console.error(error);\r\n                        })\r\n\r\n                        \r\n                    }\r\n                }} >Đăng Nhập</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignIn","import {db} from '../Firebase/config'\r\nimport { ref, set } from \"firebase/database\"\r\n\r\nfunction writeData(collection,slug='',state) {\r\n    set(ref(db,collection+slug), {\r\n      ...state\r\n    })\r\n    .then(()=>{\r\n      console.log('susscess')\r\n    })\r\n    .catch(err=>console.log(err))\r\n  }\r\n\r\nexport default writeData","import clsx from 'clsx'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport { useEffect, useReducer, useRef } from 'react'\r\nimport {  ref,get ,child} from \"firebase/database\"\r\n\r\nimport writeData from '../../Hooks/useFirebase'\r\nimport styles from './main.module.scss'\r\nimport {db} from '../../Firebase/config'\r\n// import { FacebookAuthProvider,signInWithPopup } from \"firebase/auth\";\r\n// const fbProvider = new FacebookAuthProvider();\r\n\r\nvar $ = document.querySelector.bind(document)\r\nvar $$ = document.querySelectorAll.bind(document)\r\n\r\nfunction getParent(child,parentClass)\r\n{\r\n    while(child!==null)\r\n    {\r\n        if(child.parentElement.classList.contains(parentClass))\r\n            return child.parentElement\r\n        child = child.parentElement\r\n        \r\n    }\r\n}\r\n\r\n//CONSTANTS\r\nconst NAME='name'\r\nconst ACCOUNT_NAME='accountName'\r\nconst PASSWORD='password'\r\nconst PASSWORD_CONFIRMATION='passwordConfirmation'\r\nconst GENDER='gender'\r\n\r\n// initial state\r\nconst initState = {\r\n    name:'',\r\n    accountName:'',\r\n    password:'',\r\n    passwordConfirmation:'',\r\n    gender:null\r\n}\r\n\r\n// Action\r\nfunction nameAction(value)\r\n{\r\n    return {\r\n        action:NAME,\r\n        payload:value\r\n    }\r\n}\r\nfunction accountNameAction(value)\r\n{\r\n    return {\r\n        action:ACCOUNT_NAME,\r\n        payload:value\r\n    }\r\n}\r\nfunction passwordAction(value)\r\n{\r\n    return {\r\n        action:PASSWORD,\r\n        payload:value\r\n    }\r\n}\r\nfunction passwordComfirmAction(value)\r\n{\r\n    return {\r\n        action:PASSWORD_CONFIRMATION,\r\n        payload:value\r\n    }\r\n}\r\nfunction genderAction(value)\r\n{\r\n    return {\r\n        action:GENDER,\r\n        payload:value\r\n    }\r\n}\r\n\r\n// reducer\r\nfunction reducer(state,option)\r\n    {\r\n        switch (option.action) {\r\n            case NAME:\r\n                return{\r\n                    ...state,\r\n                    name:option.payload\r\n                }\r\n            case ACCOUNT_NAME:\r\n                return{\r\n                    ...state,\r\n                    accountName:option.payload\r\n                }\r\n            case PASSWORD:\r\n                return{\r\n                    ...state,\r\n                    password:option.payload\r\n                }\r\n            case PASSWORD_CONFIRMATION:\r\n                return{\r\n                    ...state,\r\n                    passwordConfirmation:option.payload\r\n                }\r\n            case GENDER:\r\n                {\r\n                    return {\r\n                        ...state,\r\n                        gender:option.payload\r\n                    }\r\n                }\r\n            default:\r\n                return state\r\n        }\r\n        \r\n    }\r\n\r\n// Validator instant\r\nfunction Validator(options)\r\n{\r\n    let selectorsRules = {}\r\n    let formElement = $(options.form)\r\n    let errorMessage\r\n    if(formElement)\r\n    {\r\n        function validate(inputElement,rule,formGroupElement)\r\n        {\r\n            formGroupElement = getParent(inputElement,styles.formGroup)\r\n            if(inputElement)\r\n            {\r\n                for(var i = 0;i<selectorsRules[rule.selector].length;i++)\r\n                {\r\n                    errorMessage = selectorsRules[rule.selector][i](inputElement.value)\r\n                    if(errorMessage)\r\n                        break\r\n                }\r\n            }\r\n            if(errorMessage)\r\n            {\r\n                formGroupElement.classList.add(styles.invalid)\r\n                formGroupElement.querySelector('span').innerText = errorMessage\r\n            }\r\n        }\r\n        options.rules.forEach((rule)=>{\r\n            let inputElement = formElement.querySelector(rule.selector)\r\n            let formGroupElement = getParent(inputElement,styles.formGroup)\r\n            if(Array.isArray(selectorsRules[rule.selector]))\r\n            {\r\n                selectorsRules[rule.selector].push(rule.test)\r\n            }\r\n            else{\r\n                selectorsRules[rule.selector] = [rule.test]\r\n            }\r\n            inputElement.onblur = ()=>{\r\n                validate(inputElement,rule)\r\n            }\r\n            inputElement.oninput = ()=>{\r\n                formGroupElement.classList.remove(styles.invalid)\r\n                formGroupElement.querySelector('span').innerText = ''\r\n            }\r\n        })\r\n        formElement.querySelector('button').onclick =()=>{\r\n            options.rules.forEach((rule)=>{\r\n                let inputElement = formElement.querySelector(rule.selector)\r\n                let formGroupElement = getParent(inputElement,styles.formGroup)\r\n                validate(inputElement,rule,formGroupElement)\r\n            })\r\n        }\r\n    }\r\n}\r\nValidator.isRequired = (selector,message)=>{\r\n    return{\r\n        selector,\r\n        test:(value)=>{\r\n            return value.trim()?undefined:message||'Vui lòng nhập trường này!'\r\n        }\r\n    }\r\n}\r\nValidator.isPassword = (selector,min)=>{\r\n    return{\r\n        selector,\r\n        test:(value)=>{\r\n            return value.length>=6?undefined:`mật khẩu phải tối thiểu ${min} kí tự!`\r\n        }\r\n    }\r\n}\r\nValidator.isPasswordComfirmation = (selector,password,message)=>{\r\n    return{\r\n        selector,\r\n        test:(value)=>{\r\n            return value === password()?undefined:message||'Nhập lại không chính xác!'\r\n        }\r\n    }\r\n}\r\n\r\nfunction SignUp()\r\n{\r\n    // function handleFbLogin()\r\n    // {\r\n    //     signInWithPopup(auth,fbProvider)\r\n    // }   \r\n    const navigate = useNavigate()\r\n    const [state,dispatch] = useReducer(reducer,initState)\r\n    const submitRef = useRef()\r\n    const signupRef = useRef()\r\n    useEffect(()=>{\r\n        Validator({\r\n            form:'#form1',\r\n            rules:[\r\n                Validator.isRequired('#name','vui lòng nhập tên đầy đủ!'),\r\n                Validator.isRequired('#accountName','vui lòng nhập tên tài khoản!'),\r\n                Validator.isRequired('#password','vui lòng nhập mật khẩu!'),\r\n                Validator.isPassword('#password',6),\r\n                Validator.isRequired('#password_confirmation','vui lòng nhập lại mật khẩu!'),\r\n                Validator.isPassword('#password_confirmation',6),\r\n                Validator.isPasswordComfirmation(\r\n                    '#password_confirmation',\r\n                    ()=>{\r\n                        return $('#form1').querySelector('#password').value\r\n                    },\r\n                    'Mật khẩu xác nhận không chính xác!'\r\n                ),\r\n            ]\r\n        })\r\n\r\n        let genderElements = [...$$('input[type=radio]')]\r\n        genderElements.forEach((input)=>{\r\n            input.onchange = ()=>{\r\n                $('#gender').querySelector('span').innerText=''\r\n            }\r\n        })\r\n    },[])\r\n    useEffect(()=>{\r\n        $('#form1').onsubmit = (e)=>{\r\n            e.preventDefault()\r\n            if(state.gender)\r\n            {\r\n                $('#gender').querySelector('span').innerText=''\r\n                $('#gender').classList.remove(styles.invalid)\r\n            }\r\n            else{\r\n                $('#gender').querySelector('span').innerText='vui lòng chọn giới tính'\r\n                $('#gender').classList.add(styles.invalid)\r\n            }\r\n            const isSubmit = !$(`.${styles.invalid}`)\r\n            if(isSubmit)\r\n            {\r\n                const temp = state\r\n                delete temp.passwordConfirmation\r\n                console.log(temp)\r\n\r\n                const dbRef = ref(db);\r\n                get(child(dbRef, `users/${temp.accountName}`)).then((snapshot) => {\r\n                if (snapshot.exists()) {\r\n                    signupRef.current.innerText='Username is exsisted!'\r\n                } else {\r\n                    writeData('users/',temp.accountName,temp)\r\n                    alert('SignUp susscess! signin please!!!')\r\n                    navigate('/Chat-Room/signin')\r\n                }\r\n                }).catch((error) => {\r\n                console.error(error);\r\n                })\r\n            }\r\n        }\r\n    },[state])\r\n\r\n    return(\r\n        <div className={clsx(styles.login,styles.signUp)}>\r\n            <form action=\"POST\" id=\"form1\" autoComplete=\"off\">\r\n                <div className={clsx(styles.formHeader)}>\r\n                    <h1 className={clsx(styles.formHeading)}>\r\n                        Đăng kí thành viên\r\n                    </h1>\r\n                </div>\r\n\r\n                <div className={clsx(styles.formGroup)}>\r\n                    <label htmlFor=\"name\">Tên đầy đủ</label>\r\n                    <input \r\n                        value={state.name}\r\n                        type=\"text\" \r\n                        name=\"name\"\r\n                        id=\"name\" \r\n                        placeholder=\"VD: Lê Văn Thi\"\r\n                        onChange={(e)=>{dispatch(nameAction(e.target.value))}}\r\n                    />\r\n                    <span className={clsx(styles.errorMessage)}></span>\r\n                </div>\r\n\r\n                <div className={clsx(styles.formGroup)}>\r\n                    <label htmlFor=\"accountName\">Tên tài khoản</label>\r\n                    <input \r\n                        value={state.accountName} \r\n                        name=\"accountName\" \r\n                        id=\"accountName\" \r\n                        placeholder=\"VD: example1001\"\r\n                        onChange={(e)=>{\r\n                            dispatch(accountNameAction(e.target.value))\r\n                            signupRef.current.innerText=''\r\n                        }}/>\r\n                    <span className={clsx(styles.errorMessage)}></span>\r\n                </div>\r\n\r\n                <div className={clsx(styles.formGroup)}>\r\n                    <label htmlFor=\"password\">Mật khẩu</label>\r\n                    <input \r\n                        value={state.password} \r\n                        type=\"password\" \r\n                        name=\"password\" \r\n                        id=\"password\" \r\n                        placeholder=\"Mật khẩu\"\r\n                        onChange={(e)=>{dispatch(passwordAction(e.target.value))}}/>\r\n                    <span className={clsx(styles.errorMessage)}></span>\r\n                </div>\r\n\r\n                <div className={clsx(styles.formGroup)}>\r\n                    <label htmlFor=\"password_confirmation\">Nhập lại mật khẩu</label>\r\n                    <input \r\n                        value={state.passwordConfirmation} \r\n                        type=\"password\" \r\n                        name=\"password_confirmation\" \r\n                        id=\"password_confirmation\" \r\n                        placeholder=\"Nhập lại mật khẩu\"\r\n                        onChange={(e)=>{dispatch(passwordComfirmAction(e.target.value))}}/>\r\n                    <span className={clsx(styles.errorMessage)}></span>\r\n                </div>\r\n\r\n                <div id='gender' className={clsx(styles.formGroup)}>\r\n                    <label>Giới tính</label>\r\n                    <div>\r\n                        <input\r\n                            type=\"radio\" \r\n                            name=\"gender\" \r\n                            value=\"male\"\r\n                            onChange={(e)=>dispatch(genderAction(e.target.value))}\r\n                        />Nam\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                            type=\"radio\" \r\n                            name=\"gender\" \r\n                            value=\"female\"\r\n                            onChange={(e)=>dispatch(genderAction(e.target.value))}\r\n                            />Nu\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                            type=\"radio\" \r\n                            name=\"gender\" \r\n                            value=\"other\"\r\n                            onChange={(e)=>dispatch(genderAction(e.target.value))}\r\n                            />Khac\r\n                    </div>\r\n                    <span className={clsx(styles.errorMessage)}></span>\r\n                </div>\r\n\r\n                <span ref={signupRef}></span>\r\n                <button ref={submitRef} className={clsx(styles.button)}>Đăng ký</button>\r\n\r\n            </form>\r\n\r\n            <script src='../../library/Validator'></script>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignUp\r\n","import clsx from 'clsx'\r\nimport {Link} from 'react-router-dom'\r\nimport styles from './main.module.scss'\r\n\r\nfunction Home()\r\n{\r\n    console.log('home:rerender')\r\n    return (\r\n        <div className={clsx(styles.home)}>\r\n            <h2>WELCOME TO CHAT APP</h2>\r\n            <Link to='signin'>Đăng Nhập</Link>\r\n            <Link to='signup'>Đăng Ký</Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","export default \"data:image/png;base64,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\"","import { useContext } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport styles from './main.module.scss'\r\nimport avatar from '../../../../static/image/defaultAvatar.png'\r\nimport {context} from '../../../../App'\r\nfunction UserInfo()\r\n{\r\n    const navigate = useNavigate()\r\n    const {user,setUser} = useContext(context)\r\n    return(\r\n        <div className={styles.userInfo}>\r\n            <div className={styles.user}>\r\n                <Link to='/Chat-Room/useredit'>\r\n                    <img src={user.avata||avatar} alt='avata'/>\r\n                </Link>\r\n                <span>{user.name}</span>\r\n            </div>\r\n            <button \r\n                className={styles.logout} \r\n                onClick = {()=>{\r\n                    sessionStorage.removeItem('user')\r\n                    setUser(undefined)\r\n                    navigate('/Chat-Room/signin')\r\n                }}\r\n            >Đăng xuất</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserInfo\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGreaterThanSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"greater-than\",\n    className: \"svg-inline--fa fa-greater-than fa-w-12\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 384 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M365.52 209.85L59.22 67.01c-16.06-7.49-35.15-.54-42.64 15.52L3.01 111.61c-7.49 16.06-.54 35.15 15.52 42.64L236.96 256.1 18.49 357.99C2.47 365.46-4.46 384.5 3.01 400.52l13.52 29C24 445.54 43.04 452.47 59.06 445l306.47-142.91a32.003 32.003 0 0 0 18.48-29v-34.23c-.01-12.45-7.21-23.76-18.49-29.01z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGreaterThanSolid);\nexport default __webpack_public_path__ + \"static/media/greater-than-solid.2f6abf5f.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlusSquareRegular(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"far\",\n    \"data-icon\": \"plus-square\",\n    className: \"svg-inline--fa fa-plus-square fa-w-14\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlusSquareRegular);\nexport default __webpack_public_path__ + \"static/media/plus-square-regular.18883807.svg\";\nexport { ForwardRef as ReactComponent };","import {useRef,useState,useContext} from 'react'\r\nimport { ref, child, get } from \"firebase/database\"\r\n\r\nimport writeData from '../../../../Hooks/useFirebase'\r\nimport styles from './main.module.scss'\r\nimport {ReactComponent as Gthan} from '../../../../static/icon/greater-than-solid.svg'\r\nimport {ReactComponent as Plus} from '../../../../static/icon/plus-square-regular.svg'\r\nimport {context} from '../../../../App'\r\nimport {db} from '../../../../Firebase/config'\r\n\r\nvar ID = function () {\r\n    return Math.random().toString(36).substr(2, 9);\r\n}\r\nfunction RoomList()\r\n{\r\n    const addRoombox = useRef()\r\n    const [inputName,setInputName] = useState('')\r\n    const [inputDescription,setInputDescription] = useState('')\r\n    const {user,setChatWindow} = useContext(context)\r\n    function handleAddRoom()\r\n    {\r\n        let id =ID()\r\n        writeData('chatrooms/',id,{\r\n            name:inputName,\r\n            description:inputDescription,\r\n            members:{[user.accountName]:{avata:user.avata||''}},\r\n            chatbox:[],\r\n            id:id,\r\n        })\r\n        let arrRoom = user.rooms||[]\r\n        arrRoom.unshift({id,name:inputName})\r\n        writeData('users/',user.accountName,{\r\n            ...user,\r\n            rooms:arrRoom\r\n        })\r\n        addRoombox.current.style.display='none'\r\n        setInputName('')\r\n        setInputDescription('')\r\n    }\r\n    function handleChatWindow(id)\r\n    {\r\n        const dbRef = ref(db)\r\n        get(child(dbRef, 'chatrooms/'+id)).then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n            setChatWindow(snapshot.val())\r\n        } else {\r\n            console.log(\"No data available\");\r\n        }\r\n        }).catch((error) => {\r\n        console.error(error);\r\n        })\r\n    }\r\n    return(\r\n        <>\r\n        <div className={styles.roomList}>\r\n            <input style={{display:'none'}} type='checkbox' id='roomlist' />\r\n            <label htmlFor='roomlist'>\r\n                <Gthan/>\r\n            </label>\r\n            <span>Danh sách phòng</span>\r\n            <ul className={styles.list}>\r\n                {user.rooms?user.rooms.map((room)=>{\r\n                    return (\r\n                        <li onClick={()=>handleChatWindow(room.id)} key={room.id}>{room.name}</li>\r\n                    )\r\n                }):''}\r\n                <li className={styles.addRoom} onClick={()=>addRoombox.current.style.display='block'} >\r\n                    <Plus/>\r\n                    Thêm phòng\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div ref={addRoombox} className={styles.addRoombox}>\r\n            <span onClick={()=>{\r\n                addRoombox.current.style.display='none'\r\n                setInputName('')\r\n                setInputDescription('')\r\n            }} >&times;</span>\r\n            <h4>Room name</h4>\r\n            <input \r\n                value={inputName} \r\n                placeholder='Enter room name' \r\n                onChange={(e)=>setInputName(e.target.value)} \r\n            />\r\n            <h4>Description</h4>\r\n            <textarea\r\n                value={inputDescription}\r\n                placeholder='Description of room'\r\n                onChange={e=>setInputDescription(e.target.value)}\r\n            ></textarea>\r\n            <button onClick={handleAddRoom} >ADD</button>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RoomList\r\n","\r\nimport styles from './main.module.scss'\r\nimport UserInfo from './UserInfo'\r\nimport RoomList from './RoomList'\r\n\r\nfunction SideBar()\r\n{\r\n    return (\r\n        <div className={styles.SideBar}>\r\n            <UserInfo/>\r\n            <RoomList/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SideBar\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgUserPlusSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"user-plus\",\n    className: \"svg-inline--fa fa-user-plus fa-w-20\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 640 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUserPlusSolid);\nexport default __webpack_public_path__ + \"static/media/user-plus-solid.0d49266d.svg\";\nexport { ForwardRef as ReactComponent };","import { useContext,useState,useRef, useEffect } from 'react'\r\nimport {  ref, child, get,update,onValue,set } from \"firebase/database\"\r\n\r\nimport { db } from '../../../../Firebase/config'\r\nimport {context} from '../../../../App'\r\nimport styles from './main.module.scss'\r\nimport {ReactComponent as UserAdd} from '../../../../static/icon/user-plus-solid.svg'\r\nimport Avata from '../../../../static/image/defaultAvatar.png'\r\nfunction Header()\r\n{\r\n    const {chatWindow,setChatWindow} = useContext(context)\r\n    const [userInvite,setUserInvite] = useState()\r\n    const userInviteRef = useRef()\r\n    const errRef = useRef()\r\n    let id\r\n    useEffect(()=>{\r\n        if(chatWindow)\r\n            id=chatWindow.id\r\n    },[chatWindow])\r\n    useEffect(()=>{\r\n        const chatWindowRef = ref(db, 'chatrooms/' + id)\r\n        onValue(chatWindowRef, (snapshot) => {\r\n        const data = snapshot.val();\r\n        setChatWindow(data);\r\n        })\r\n    },[id])\r\n    function handleInviteUser()\r\n    {\r\n        if(!userInvite) return\r\n        const dbRef = ref(db)\r\n        get(child(dbRef, `users/${userInvite}`)).then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n            let rooms = snapshot.val().rooms || []\r\n            let isExist = rooms.some((room)=>{\r\n                return room.id===chatWindow.id\r\n            })\r\n            if(!isExist)\r\n            {\r\n                rooms = [{id:chatWindow.id,name:chatWindow.name},...rooms]\r\n            }\r\n            else{\r\n                errRef.current.innerText='User had exsisted in this room.'\r\n                return\r\n            }\r\n            let updates = {}\r\n            updates[`users/${userInvite}/rooms`] = rooms\r\n            update(dbRef,updates)\r\n\r\n            get(child(dbRef, `users/${userInvite}/avata`)).then((snapshot1) => {\r\n            if (snapshot1.exists()){\r\n                set(ref(db, 'chatrooms/' + chatWindow.id+'/members/'+userInvite), {\r\n                    avata:snapshot1.val()\r\n                  })\r\n            } else {\r\n                set(ref(db, 'chatrooms/' + chatWindow.id+'/members/'+userInvite), {\r\n                    avata:''\r\n                  })\r\n            }\r\n            }).catch((error) => {\r\n            console.error(error);\r\n            })\r\n            \r\n\r\n            \r\n\r\n            userInviteRef.current.style.display='none'\r\n            errRef.current.innerText=''\r\n            setUserInvite('')\r\n        } else {\r\n            errRef.current.innerText='User not found, try again please!'\r\n        }\r\n        }).catch((error) => {\r\n        console.error(error);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <div ref={userInviteRef} className={styles.userInvite}>\r\n                <div  onClick={()=>{\r\n                    errRef.current.innerText=''\r\n                    userInviteRef.current.style.display='none'\r\n                    setUserInvite('')\r\n                    }}>x</div>\r\n                <h3>Invite</h3>\r\n                <input\r\n                    placeholder='Enter username...' \r\n                    value={userInvite}\r\n                    onChange={e=>{errRef.current.innerText='';setUserInvite(e.target.value)}}\r\n                />\r\n                <p ref={errRef} className={styles.error} ></p>\r\n                <button onClick={handleInviteUser} >ADD</button>\r\n            </div>\r\n            {chatWindow?\r\n                <div className={styles.header}>\r\n                    <div>\r\n                        <h4>{chatWindow.name}</h4>\r\n                        <span>{chatWindow.description}</span>\r\n                    </div>\r\n                    <div>\r\n                        <span \r\n                            onClick={()=>{\r\n                                userInviteRef.current.style.display='block'\r\n                            }} \r\n                            className={styles.invite}\r\n                        >\r\n                            <UserAdd/>\r\n                            <span>\r\n                                Mời\r\n                            </span>\r\n                        </span>\r\n                        <span className={styles.members}>\r\n                            <img \r\n                                src={chatWindow.members[Object.keys(chatWindow.members)[0]].avata?\r\n                                    chatWindow.members[Object.keys(chatWindow.members)[0]].avata:\r\n                                    Avata\r\n                                } \r\n                                alt='img1' \r\n                            />\r\n                            {Object.keys(chatWindow.members).length>1?<img \r\n                                src={chatWindow.members[Object.keys(chatWindow.members)[1]].avata?\r\n                                    chatWindow.members[Object.keys(chatWindow.members)[1]].avata:\r\n                                    Avata\r\n                                } \r\n                                alt='img2' \r\n                            />\r\n                            :''}\r\n                            {Object.keys(chatWindow.members).length>=3?\r\n                                <span style={{justifyContent:'center'}}>\r\n                                    +{Object.keys(chatWindow.members).length-2}\r\n                                </span>\r\n                                :''\r\n                            }\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                :<h1 className={styles.noroom} style={{margin:'40px auto'}}>Vui lòng chọn room chat!!!</h1>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import clsx from 'clsx'\r\nimport {useContext,useEffect,useState} from 'react'\r\nimport { ref, push, set,onValue } from \"firebase/database\"\r\n\r\nimport { db } from '../../../../Firebase/config'\r\nimport { context } from '../../../../App'\r\nimport styles from './main.module.scss'\r\nimport Avatar from '../../../../static/image/defaultAvatar.png'\r\n\r\nfunction ChatSection()\r\n{\r\n    const [message,setMessage] = useState('')\r\n    const {chatWindow,user,setChatWindow} = useContext(context)\r\n    const [messageBox,setMessageBox] = useState()\r\n    useEffect(()=>{\r\n        if(chatWindow)\r\n        {\r\n            const chatBoxRef = ref(db, 'chatrooms/' + chatWindow.id + '/chatBox');\r\n            onValue(chatBoxRef, (snapshot) => {\r\n                setMessageBox(snapshot.val())\r\n            })\r\n        }\r\n    },[chatWindow])\r\n    function handleSend()\r\n    {\r\n        if(!message)\r\n            return\r\n        let now = new Date()\r\n        let data={\r\n            message:message,\r\n            avata:user['avata']||'',\r\n            name:user.name,\r\n            time:now.toLocaleString(),\r\n            account:user.accountName\r\n        }\r\n        const postListRef = ref(db, `chatrooms/${chatWindow.id}/chatBox`)\r\n        const newPostRef = push(postListRef);\r\n        set(newPostRef,data)\r\n        setMessage('')\r\n    }\r\n\r\n    function me(name)\r\n    {\r\n        if(name===user.accountName)\r\n        {\r\n            return styles.me\r\n        }\r\n    }\r\n\r\n    if(chatWindow)\r\n    {\r\n        let renderBox =[]\r\n        if(!chatWindow[\"chatBox\"])\r\n        {\r\n            chatWindow[\"chatBox\"] = {}\r\n        }\r\n        for(var i in messageBox)\r\n        {\r\n            renderBox.unshift(messageBox[i])\r\n        }\r\n        return(\r\n            <>\r\n                \r\n                <div className={styles.chatSection}>\r\n                    <div className={styles.chatBox}>\r\n                        {renderBox.map((chatItem)=>\r\n                        {\r\n                            return (\r\n                                <div \r\n                                    key={Math.random().toString(36).substr(2, 9)} \r\n                                    className={\r\n                                        clsx(styles.chatItem,\r\n                                        me(chatItem.account)\r\n                                        )\r\n                                    }>\r\n                                    <div>\r\n                                        <img src={chatItem.avata||Avatar} alt='img'/>\r\n                                        <span className={styles.name}>{chatItem.name}</span>\r\n                                        <span className={styles.time} >{chatItem.time}</span>\r\n                                    </div>\r\n                                    <p>{chatItem.message}</p>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                        \r\n                    </div>\r\n                </div>\r\n                <div className={styles.sendGroup}>\r\n                    <input \r\n                        placeholder='message...'\r\n                        value={message}\r\n                        onChange={(e)=>setMessage(e.target.value)}\r\n                        onKeyDown={e=>{\r\n                            if(e.key==='Enter')\r\n                            {\r\n                                handleSend()\r\n                            }\r\n                        }}\r\n                    />\r\n                    <button\r\n                        onClick={handleSend}\r\n                    >Gửi</button>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n    return <></>\r\n}\r\n\r\nexport default ChatSection","\r\nimport styles from './main.module.scss'\r\nimport Header from './Header'\r\nimport ChatSection from './ChatSection'\r\nfunction ChatWindow()\r\n{\r\n    return(\r\n        <div className={styles.chatWindow}>\r\n            <Header/>\r\n            <ChatSection/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatWindow\r\n","\r\nimport styles from './main.module.scss'\r\nimport SideBar from './SideBar'\r\nimport ChatSection from './ChatWindow'\r\n\r\nfunction ChatRoom()\r\n{\r\n    console.log('chat-room:rerender')\r\n    return (\r\n        <div className={styles.chatroom}>\r\n            <SideBar/>\r\n            <ChatSection/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatRoom\r\n","import { useContext ,useEffect,useState} from 'react'\r\nimport {ref,update,set} from 'firebase/database'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport { db } from '../../Firebase/config'\r\nimport {context} from '../../App'\r\nimport styles from './main.module.scss'\r\n\r\nfunction UserEdit()\r\n{\r\n    console.log('useredit:rerender')\r\n    const {user} = useContext(context)\r\n    const [name,setName] = useState()\r\n    const [avata,setAvata] = useState()\r\n    const navigate = useNavigate()\r\n    useEffect(()=>{\r\n        setName(user.name)\r\n        setAvata(user.avata)\r\n    },[user])\r\n    function handleEdit(e)\r\n    {\r\n        e.preventDefault()\r\n        if(!name)\r\n            return\r\n        else{\r\n            const updates = {}\r\n            updates[`users/${user.accountName}/name`] = name\r\n            updates[`users/${user.accountName}/avata`] = avata\r\n            update(ref(db),updates)\r\n            let rooms = user.rooms||[]\r\n            rooms.forEach((room)=>\r\n            {\r\n                set(ref(db, 'chatrooms/' + room.id +'/members/'+user.accountName), {\r\n                    avata:avata\r\n                  })\r\n            })\r\n\r\n            navigate('/Chat-Room/chatroom')\r\n        }\r\n    }\r\n    return(\r\n        <form className={styles.editForm}>\r\n            <span>Name</span>\r\n            <input \r\n                value={name}\r\n                onChange={e=>{setName(e.target.value)}}\r\n                className={styles.name}\r\n            />\r\n            <span>Avata URL</span>\r\n            <input\r\n                value={avata}\r\n                onChange={e=>{setAvata(e.target.value)}}\r\n                className={styles.avata}\r\n            />\r\n            <button onClick={handleEdit} >UPDATE</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default UserEdit\r\n\r\n","import {Routes,Route,useNavigate} from 'react-router-dom'\nimport {useState,useEffect,useLayoutEffect,createContext,useRef} from 'react'\nimport {db} from './Firebase/config'\nimport { ref ,onValue} from \"firebase/database\";\n\nimport './App.css';\nimport SignIn from './Components/Login/SignIn';\nimport SignUp from './Components/Login/SignUp';\nimport Home from './Components/Home';\nimport ChatRoom from './Components/ChatRoom';\nimport UserEdit from './Components/UserEdit';\nexport const context = createContext()\n\n\n\nfunction App() {\n\n  const [user,setUser] = useState()\n  const [chatWindow,setChatWindow] = useState()\n  const navigate = useNavigate()\n  const accountRef = useRef()\n  useLayoutEffect(()=>{\n    let storage = JSON.parse(sessionStorage.getItem('user'))\n    if(storage)\n    {\n      setUser(storage)\n      navigate('/chatroom')\n    }\n  },[])\n  useEffect(()=>{\n    const accountName = accountRef.current\n    if(accountName)\n    {\n      const userUpdate = ref(db, 'users/'+accountName);\n      onValue(userUpdate, (snapshot) => {\n        const data = snapshot.val();\n        setUser(data)\n      })\n    }\n  },[accountRef.current])\n\n  useEffect(()=>{\n    if(user)\n    {\n      sessionStorage.setItem('user',JSON.stringify(user))\n      accountRef.current = user.accountName\n    }\n    return ()=>{\n      setChatWindow(null)\n    }\n  },[user])\n\n  console.log('app:rerender')\n  return (\n    <context.Provider value={{user,setUser,chatWindow,setChatWindow}}>\n      <Routes>\n        <Route path='Chat-Room/signin' element={user?<ChatRoom/>:<SignIn setUser={setUser}/>}/> \n        <Route path='Chat-Room/signup' element={user?<ChatRoom/>:<SignUp/>}/> \n        <Route path='Chat-Room/chatroom' element={user?<ChatRoom/>:<Home/>}/> \n        <Route path='Chat-Room/useredit' element={user?<UserEdit/>:<SignIn/>}/> \n        <Route path='Chat-Room/' element={user?<ChatRoom/>:<Home/>}/>\n      </Routes>\n    </context.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"main_login__22hVo\",\"signUp\":\"main_signUp__1ptbx\",\"formHeading\":\"main_formHeading__2k895\",\"formPara\":\"main_formPara__2JWuK\",\"formGroup\":\"main_formGroup__26tHh\",\"invalid\":\"main_invalid__1BBJU\"};"],"sourceRoot":""}