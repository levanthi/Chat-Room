(this.webpackJsonpchat_app=this.webpackJsonpchat_app||[]).push([[0],{10:function(e,t,n){e.exports={hide:"main_hide__qMCzr",deleteComfirm:"main_deleteComfirm__3KEr6",appear:"main_appear__ynNLe",header:"main_header__1eVGv",members:"main_members__3W1fB",memberListWrap:"main_memberListWrap__3LhJe",icon1:"main_icon1__2KWRQ",icon2:"main_icon2__rq35s",icon3:"main_icon3__2Owan",arrowDown:"main_arrowDown__2bnFx",roomSetting:"main_roomSetting__2g0h8",scale:"main_scale__1nlaJ",invite:"main_invite__w5SZs",userInvite:"main_userInvite__1cSMb",error:"main_error__G3gii",noroom:"main_noroom__3NAZC",memberList:"main_memberList__1YsAP"}},18:function(e,t,n){e.exports={chatSection:"main_chatSection__3HH8F",chatBox:"main_chatBox__34CnR",sendGroup:"main_sendGroup__1Ih-c",chatItem:"main_chatItem__2Kwf7",name:"main_name__19Ubd",time:"main_time__1ty5m",me:"main_me__1NZQ8",inputWrap:"main_inputWrap__3SakK",input:"main_input__2bkHr",emoji:"main_emoji__I8DPP","emoji-picker-react":"main_emoji-picker-react__1gIYq",overlay:"main_overlay__35iNh"}},23:function(e,t,n){e.exports={hide:"main_hide__2TV6u",roomList:"main_roomList__2Lf01",list:"main_list__SHIZv",slideTop:"main_slideTop__IV1N8",addRoom:"main_addRoom__4CBbs",addRoombox:"main_addRoombox__3nx6z",appear:"main_appear__3rs8o"}},29:function(e,t,n){e.exports={home:"main_home__3yhlU"}},32:function(e,t,n){e.exports={userInfo:"main_userInfo__3mXAp",user:"main_user__89aq3",buttonWrap:"main_buttonWrap__3DRpq",rotate:"main_rotate__VyR-D",changeColor:"main_changeColor__2LbP8",logout:"main_logout__1Zxo0"}},34:function(e,t,n){e.exports={editForm:"main_editForm__2qoDd"}},40:function(e,t,n){e.exports={chatroom:"main_chatroom__1uN1S"}},41:function(e,t,n){e.exports={SideBar:"main_SideBar__2n53m",roomList:"main_roomList__Cex3b"}},42:function(e,t,n){e.exports={chatWindow:"main_chatWindow__3RwQU"}},51:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(38),r=n.n(c),s=n(19),o=n(8),i=n(7),l=n(5),u=(n(51),n(39)),j=(Object(u.a)({apiKey:"AIzaSyD7qlRtJFMoX3kS3meXSTVK5FJyLYSjQZE",authDomain:"chat-app-b6c92.firebaseapp.com",databaseURL:"https://chat-app-b6c92-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"chat-app-b6c92",storageBucket:"chat-app-b6c92.appspot.com",messagingSenderId:"813309308115",appId:"1:813309308115:web:f894823381c23bed0ab826",measurementId:"G-BYW0P6GBV7"}),Object(l.c)()),m=n(17),b=n.n(m),d=n(21),h=(n(52),n(0));var f=function(){return Object(h.jsx)("div",{className:"loading-wrap",children:Object(h.jsxs)("div",{className:"loader",children:[Object(h.jsx)("span",{}),Object(h.jsx)("span",{}),Object(h.jsx)("span",{}),Object(h.jsx)("span",{})]})})},p=n(9),O=n.n(p),x=document.querySelector.bind(document);function v(e){var t,n={},a=x(e.form);function c(e,a){for(var c=0;c<n[a.selector].length&&!(t=n[a.selector][c](e.value));c++);t&&(e.parentElement.classList.add(O.a.invalid),e.parentElement.querySelector("span").innerText=t)}a&&(e.rules.forEach((function(e){Array.isArray(n[e.selector])?n[e.selector].push(e.test):n[e.selector]=[e.test];var t=a.querySelector(e.selector);t.onblur=function(){c(t,e)},t.oninput=function(){t.parentElement.classList.remove(O.a.invalid),t.parentElement.querySelector("span").innerText=""}})),a.onsubmit=function(t){t.preventDefault(),e.rules.forEach((function(e){c(a.querySelector(e.selector),e)}))})}v.isRequired=function(e,t){return{selector:e,test:function(e){return e.trim()?void 0:t||"vui l\xf2ng nh\u1eadp tr\u01b0\u1eddng n\xe0y!"}}},v.minLength=function(e,t,n){return{selector:e,test:function(e){return e.length>=t?void 0:n||"Tr\u01b0\u1eddng n\xe0y t\xf4i t\u1ed1i thi\u1ec3u ".concat(t," k\xed t\u1ef1!")}}};var g=function(){var e=Object(i.f)(),t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),u=Object(o.a)(s,2),m=u[0],p=u[1],x=Object(a.useContext)(ot),g=x.setUser,y=x.loading,_=x.setLoading,w=Object(a.useRef)();return Object(a.useEffect)((function(){v({form:"#form1",rules:[v.isRequired("#accountName","Vui l\xf2ng nh\u1eadp t\xean t\xe0i kho\u1ea3n!"),v.isRequired("#password","Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u"),v.minLength("#password",6,"m\u1eadt kh\u1ea9u ph\u1ea3i t\u1ed1i thi\u1ec3u 6 k\xed t\u1ef1!")]})}),[]),Object(h.jsxs)(h.Fragment,{children:[y?Object(h.jsx)(f,{}):"",Object(h.jsx)("div",{className:O.a.login,children:Object(h.jsxs)("form",{id:"form1",children:[Object(h.jsx)("h2",{style:{marginTop:"0"},children:"\u0110\u0103ng Nh\u1eadp"}),Object(h.jsxs)("div",{className:O.a.formGroup,children:[Object(h.jsx)("label",{htmlFor:"accountName",children:"T\xean t\xe0i kho\u1ea3n"}),Object(h.jsx)("input",{spellCheck:"false",value:c,autoComplete:"off",type:"text",name:"accountName",id:"accountName",placeholder:"VD: expample123",onChange:function(e){r(e.target.value),w.current.innerText=""}}),Object(h.jsx)("span",{className:O.a.errorMessage})]}),Object(h.jsxs)("div",{className:O.a.formGroup,children:[Object(h.jsx)("label",{htmlFor:"password",children:"M\u1eadt kh\u1ea9u"}),Object(h.jsx)("input",{value:m,placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u...",type:"password",name:"password",id:"password",onChange:function(e){p(e.target.value),w.current.innerText=""}}),Object(h.jsx)("span",{className:O.a.errorMessage})]}),Object(h.jsx)("span",{ref:w,className:O.a.loginFail}),Object(h.jsxs)("button",{onClick:Object(d.a)(b.a.mark((function t(){var n,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c&&m.length>=6)){t.next=5;break}return _(!y),n=Object(l.f)(j),t.next=5,Object(l.b)(Object(l.a)(n,"users/"+c)).then((function(t){if(t.exists())if((a=t.val()).password===m){sessionStorage.setItem("user",a),g(a),e("/Chat-Room/chatroom");var n=Object(l.f)(j,"users/"+c);Object(l.d)(n,(function(e){var t=e.val();g(t)}))}else w.current.innerText="T\xe0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng ch\xednh x\xe1c!";else w.current.innerText="T\xe0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng ch\xednh x\xe1c!";_(!1)})).catch((function(e){console.error(e)}));case 5:case"end":return t.stop()}}),t)}))),children:[Object(h.jsx)("span",{}),Object(h.jsx)("span",{}),Object(h.jsx)("span",{}),Object(h.jsx)("span",{}),"\u0110\u0103ng Nh\u1eadp"]})]})})]})},y=n(24),_=n(16),w=n(11);var C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;Object(l.h)(Object(l.f)(j,e+t),Object(_.a)({},n)).then((function(){console.log("susscess")})).catch((function(e){return console.log(e)}))},N=document.querySelector.bind(document),k=document.querySelectorAll.bind(document);function S(e,t){for(;null!==e;){if(e.parentElement.classList.contains(t))return e.parentElement;e=e.parentElement}}var E="name",M="accountName",T="password",q="passwordConfirmation",L="gender",R={name:"",accountName:"",password:"",passwordConfirmation:"",gender:null};function A(e){return{action:L,payload:e}}function I(e,t){switch(t.action){case E:return Object(_.a)(Object(_.a)({},e),{},{name:t.payload});case M:return Object(_.a)(Object(_.a)({},e),{},{accountName:t.payload});case T:return Object(_.a)(Object(_.a)({},e),{},{password:t.payload});case q:return Object(_.a)(Object(_.a)({},e),{},{passwordConfirmation:t.payload});case L:return Object(_.a)(Object(_.a)({},e),{},{gender:t.payload});default:return e}}function V(e){var t,n={},a=N(e.form);if(a){var c=function(e,a,c){if(c=S(e,O.a.formGroup),e)for(var r=0;r<n[a.selector].length&&!(t=n[a.selector][r](e.value));r++);t&&(c.classList.add(O.a.invalid),c.querySelector("span").innerText=t)};e.rules.forEach((function(e){var t=a.querySelector(e.selector),r=S(t,O.a.formGroup);Array.isArray(n[e.selector])?n[e.selector].push(e.test):n[e.selector]=[e.test],t.onblur=function(){c(t,e)},t.oninput=function(){r.classList.remove(O.a.invalid),r.querySelector("span").innerText=""}})),a.querySelector("button").onclick=function(){e.rules.forEach((function(e){var t=a.querySelector(e.selector),n=S(t,O.a.formGroup);c(t,e,n)}))}}}V.isRequired=function(e,t){return{selector:e,test:function(e){return e.trim()?void 0:t||"Vui l\xf2ng nh\u1eadp tr\u01b0\u1eddng n\xe0y!"}}},V.isPassword=function(e,t){return{selector:e,test:function(e){return e.length>=6?void 0:"m\u1eadt kh\u1ea9u ph\u1ea3i t\u1ed1i thi\u1ec3u ".concat(t," k\xed t\u1ef1!")}}},V.isPasswordComfirmation=function(e,t,n){return{selector:e,test:function(e){return e===t()?void 0:n||"Nh\u1eadp l\u1ea1i kh\xf4ng ch\xednh x\xe1c!"}}};var B=function(){var e=Object(i.f)(),t=Object(a.useReducer)(I,R),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useContext)(ot),u=s.loading,m=s.setLoading,b=Object(a.useRef)(),d=Object(a.useRef)();return Object(a.useEffect)((function(){V({form:"#form1",rules:[V.isRequired("#name","vui l\xf2ng nh\u1eadp t\xean \u0111\u1ea7y \u0111\u1ee7!"),V.isRequired("#accountName","vui l\xf2ng nh\u1eadp t\xean t\xe0i kho\u1ea3n!"),V.isRequired("#password","vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u!"),V.isPassword("#password",6),V.isRequired("#password_confirmation","vui l\xf2ng nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u!"),V.isPassword("#password_confirmation",6),V.isPasswordComfirmation("#password_confirmation",(function(){return N("#form1").querySelector("#password").value}),"M\u1eadt kh\u1ea9u x\xe1c nh\u1eadn kh\xf4ng ch\xednh x\xe1c!")]}),Object(y.a)(k("input[type=radio]")).forEach((function(e){e.onchange=function(){N("#gender").querySelector("span").innerText=""}}))}),[]),Object(a.useEffect)((function(){N("#form1").onsubmit=function(t){if(t.preventDefault(),c.gender?(N("#gender").querySelector("span").innerText="",N("#gender").classList.remove(O.a.invalid)):(N("#gender").querySelector("span").innerText="vui l\xf2ng ch\u1ecdn gi\u1edbi t\xednh",N("#gender").classList.add(O.a.invalid)),!N(".".concat(O.a.invalid))){m(!u);var n=c;delete n.passwordConfirmation,console.log(n);var a=Object(l.f)(j);Object(l.b)(Object(l.a)(a,"users/".concat(n.accountName))).then((function(t){t.exists()?d.current.innerText="T\xean t\xe0i kho\u1ea3n \u0111\xe3 t\u1ed3n t\u1ea1i!":(C("users/",n.accountName,n),alert("\u0110\u0103ng k\xfd th\xe0nh c\xf4ng! Xin m\u1eddi \u0111\u0103ng nh\u1eadp!"),e("/Chat-Room/signin")),m(!1)})).catch((function(e){console.error(e)}))}}}),[c]),Object(h.jsxs)(h.Fragment,{children:[u?Object(h.jsx)(f,{}):"",Object(h.jsxs)("div",{className:Object(w.a)(O.a.login,O.a.signUp),children:[Object(h.jsxs)("form",{action:"POST",id:"form1",autoComplete:"off",children:[Object(h.jsx)("div",{className:Object(w.a)(O.a.formHeader),children:Object(h.jsx)("h1",{className:Object(w.a)(O.a.formHeading),children:"\u0110\u0103ng k\xed th\xe0nh vi\xean"})}),Object(h.jsxs)("div",{className:Object(w.a)(O.a.formGroup),children:[Object(h.jsx)("label",{htmlFor:"name",children:"T\xean \u0111\u1ea7y \u0111\u1ee7"}),Object(h.jsx)("input",{spellCheck:"false",value:c.name,type:"text",name:"name",id:"name",placeholder:"VD: L\xea V\u0103n Thi",onChange:function(e){var t;r((t=e.target.value,{action:E,payload:t}))}}),Object(h.jsx)("span",{className:Object(w.a)(O.a.errorMessage)})]}),Object(h.jsxs)("div",{className:Object(w.a)(O.a.formGroup),children:[Object(h.jsx)("label",{htmlFor:"accountName",children:"T\xean t\xe0i kho\u1ea3n"}),Object(h.jsx)("input",{value:c.accountName,spellCheck:"false",name:"accountName",id:"accountName",placeholder:"VD: example1001",onChange:function(e){var t;r((t=e.target.value,{action:M,payload:t})),d.current.innerText=""}}),Object(h.jsx)("span",{className:Object(w.a)(O.a.errorMessage)})]}),Object(h.jsxs)("div",{className:Object(w.a)(O.a.formGroup),children:[Object(h.jsx)("label",{htmlFor:"password",children:"M\u1eadt kh\u1ea9u"}),Object(h.jsx)("input",{value:c.password,type:"password",name:"password",id:"password",placeholder:"M\u1eadt kh\u1ea9u",onChange:function(e){var t;r((t=e.target.value,{action:T,payload:t}))}}),Object(h.jsx)("span",{className:Object(w.a)(O.a.errorMessage)})]}),Object(h.jsxs)("div",{className:Object(w.a)(O.a.formGroup),children:[Object(h.jsx)("label",{htmlFor:"password_confirmation",children:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"}),Object(h.jsx)("input",{value:c.passwordConfirmation,type:"password",name:"password_confirmation",id:"password_confirmation",placeholder:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",onChange:function(e){var t;r((t=e.target.value,{action:q,payload:t}))}}),Object(h.jsx)("span",{className:Object(w.a)(O.a.errorMessage)})]}),Object(h.jsxs)("div",{id:"gender",className:Object(w.a)(O.a.formGroup),children:[Object(h.jsx)("label",{children:"Gi\u1edbi t\xednh"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"radio",name:"gender",value:"male",onChange:function(e){return r(A(e.target.value))}}),"Nam"]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"radio",name:"gender",value:"female",onChange:function(e){return r(A(e.target.value))}}),"Nu"]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"radio",name:"gender",value:"other",onChange:function(e){return r(A(e.target.value))}}),"Khac"]}),Object(h.jsx)("span",{className:Object(w.a)(O.a.errorMessage)})]}),Object(h.jsx)("span",{ref:d,className:O.a.userExist}),Object(h.jsxs)("button",{ref:b,className:Object(w.a)(O.a.button),children:[Object(h.jsx)("span",{}),Object(h.jsx)("span",{}),Object(h.jsx)("span",{}),Object(h.jsx)("span",{}),"\u0110\u0103ng k\xfd"]})]}),Object(h.jsx)("script",{src:"../../library/Validator"})]})]})},D=n(29),z=n.n(D);var P=function(){return console.log("home:rerender"),Object(h.jsxs)("div",{className:Object(w.a)(z.a.home),children:[Object(h.jsx)("h2",{children:"WELCOME TO CHAT APP"}),Object(h.jsxs)(s.b,{className:(z.a.loginBtn,z.a.signinBtn),to:"/Chat-Room/signin",children:[Object(h.jsx)("span",{}),Object(h.jsx)("span",{}),Object(h.jsx)("span",{}),Object(h.jsx)("span",{}),"\u0110\u0103ng Nh\u1eadp"]}),Object(h.jsxs)(s.b,{className:(z.a.loginBtn,z.a.signupBtn),to:"/Chat-Room/signup",children:[Object(h.jsx)("span",{}),Object(h.jsx)("span",{}),Object(h.jsx)("span",{}),Object(h.jsx)("span",{}),"\u0110\u0103ng K\xfd"]})]})},U=n(40),F=n.n(U),G=n(41),X=n.n(G),K=n(32),W=n.n(K),J="data:image/png;base64,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";var Y,H=function(){var e=Object(i.f)(),t=Object(a.useContext)(ot),n=t.user,c=t.setUser;return Object(h.jsxs)("div",{className:W.a.userInfo,children:[Object(h.jsxs)("div",{className:W.a.user,children:[Object(h.jsx)(s.b,{to:"/Chat-Room/useredit",children:Object(h.jsx)("img",{src:n.avata||J,alt:"avata"})}),Object(h.jsx)("span",{children:n.name})]}),Object(h.jsxs)("div",{className:W.a.buttonWrap,children:[Object(h.jsx)("button",{className:W.a.logout,onClick:function(){sessionStorage.removeItem("user"),c(null),e("/Chat-Room/signin")},children:"\u0110\u0103ng xu\u1ea5t"}),Object(h.jsx)("span",{})]})]})},Z=n(6),Q=n(23),$=n.n(Q),ee=["title","titleId"];function te(){return te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},te.apply(this,arguments)}function ne(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function ae(e,t){var n=e.title,c=e.titleId,r=ne(e,ee);return a.createElement("svg",te({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"greater-than",className:"svg-inline--fa fa-greater-than fa-w-12",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",ref:t,"aria-labelledby":c},r),n?a.createElement("title",{id:c},n):null,Y||(Y=a.createElement("path",{fill:"currentColor",d:"M365.52 209.85L59.22 67.01c-16.06-7.49-35.15-.54-42.64 15.52L3.01 111.61c-7.49 16.06-.54 35.15 15.52 42.64L236.96 256.1 18.49 357.99C2.47 365.46-4.46 384.5 3.01 400.52l13.52 29C24 445.54 43.04 452.47 59.06 445l306.47-142.91a32.003 32.003 0 0 0 18.48-29v-34.23c-.01-12.45-7.21-23.76-18.49-29.01z"})))}var ce,re=a.forwardRef(ae),se=(n.p,["title","titleId"]);function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oe.apply(this,arguments)}function ie(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function le(e,t){var n=e.title,c=e.titleId,r=ie(e,se);return a.createElement("svg",oe({"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus-square",className:"svg-inline--fa fa-plus-square fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",ref:t,"aria-labelledby":c},r),n?a.createElement("title",{id:c},n):null,ce||(ce=a.createElement("path",{fill:"currentColor",d:"M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"})))}var ue=a.forwardRef(le);n.p;var je=function(){var e=Object(a.useRef)(),t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),u=i[0],m=i[1],b=Object(a.useContext)(ot),d=b.user,f=b.setChatWindow,p=b.loading,O=b.setLoading;return b.setUser,Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:$.a.roomList,children:[Object(h.jsx)("input",{style:{display:"none"},type:"checkbox",id:"roomlist"}),Object(h.jsx)("label",{htmlFor:"roomlist",children:Object(h.jsx)(re,{})}),Object(h.jsx)("span",{children:"Danh s\xe1ch ph\xf2ng"}),Object(h.jsxs)("ul",{className:$.a.list,children:[d.rooms?function(e){var t=[];return Object.keys(e).map((function(n){t.push({id:n,name:e[n].name})})),t}(d.rooms).map((function(e){return Object(h.jsx)("li",{onClick:function(){return function(e){O(!p);var t=Object(l.f)(j);Object(l.b)(Object(l.a)(t,"chatrooms/"+e)).then((function(e){e.exists()?(f(e.val()),O(!1)):console.log("No data available")})).catch((function(e){console.error(e)}))}(e.id)},children:e.name},e.id)})):"",Object(h.jsxs)("li",{className:"".concat($.a.addRoom),onClick:function(){e.current.classList.remove($.a.hide),e.current.style.display="block"},children:[Object(h.jsx)(ue,{}),"Th\xeam ph\xf2ng"]})]})]}),Object(h.jsxs)("div",{ref:e,className:"".concat($.a.addRoombox,"  ").concat($.a.hide),children:[Object(h.jsx)("span",{onClick:function(){e.current.classList.add($.a.hide),r(""),m("")},children:"\xd7"}),Object(h.jsx)("h4",{children:"T\xean ph\xf2ng"}),Object(h.jsx)("input",{value:c,placeholder:"Nh\u1eadp t\xean ph\xf2ng...",onChange:function(e){return r(e.target.value)}}),Object(h.jsx)("h4",{children:"M\xf4 t\u1ea3"}),Object(h.jsx)("textarea",{value:u,placeholder:"M\xf4 t\u1ea3 ph\xf2ng...",onChange:function(e){return m(e.target.value)}}),Object(h.jsx)("button",{onClick:function(){var t=Math.random().toString(36).substr(2,9);C("chatrooms/",t,{name:c,description:u,members:Object(Z.a)({},d.accountName,{avata:d.avata||""}),chatbox:[],host:d.accountName,id:t});var n={};n["users/".concat(d.accountName,"/rooms/").concat(t)]={name:c},Object(l.i)(Object(l.f)(j),n),e.current.style.display="none",r(""),m("")},children:"Th\xeam"})]})]})};var me,be=function(){return Object(h.jsxs)("div",{className:X.a.SideBar,children:[Object(h.jsx)(H,{}),Object(h.jsx)(je,{})]})},de=n(42),he=n.n(de),fe=n(10),pe=n.n(fe),Oe=["title","titleId"];function xe(){return xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xe.apply(this,arguments)}function ve(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function ge(e,t){var n=e.title,c=e.titleId,r=ve(e,Oe);return a.createElement("svg",xe({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"user-plus",className:"svg-inline--fa fa-user-plus fa-w-20",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",ref:t,"aria-labelledby":c},r),n?a.createElement("title",{id:c},n):null,me||(me=a.createElement("path",{fill:"currentColor",d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"})))}var ye,_e,we,Ce,Ne,ke,Se,Ee,Me,Te,qe,Le,Re,Ae,Ie,Ve,Be=a.forwardRef(ge),De=(n.p,["title","titleId"]);function ze(){return ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ze.apply(this,arguments)}function Pe(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function Ue(e,t){var n=e.title,c=e.titleId,r=Pe(e,De);return a.createElement("svg",ze({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 330 330",style:{enableBackground:"new 0 0 330 330"},xmlSpace:"preserve",ref:t,"aria-labelledby":c},r),n?a.createElement("title",{id:c},n):null,ye||(ye=a.createElement("path",{id:"XMLID_225_",d:"M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393 c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393 s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z"})),_e||(_e=a.createElement("g",null)),we||(we=a.createElement("g",null)),Ce||(Ce=a.createElement("g",null)),Ne||(Ne=a.createElement("g",null)),ke||(ke=a.createElement("g",null)),Se||(Se=a.createElement("g",null)),Ee||(Ee=a.createElement("g",null)),Me||(Me=a.createElement("g",null)),Te||(Te=a.createElement("g",null)),qe||(qe=a.createElement("g",null)),Le||(Le=a.createElement("g",null)),Re||(Re=a.createElement("g",null)),Ae||(Ae=a.createElement("g",null)),Ie||(Ie=a.createElement("g",null)),Ve||(Ve=a.createElement("g",null)))}var Fe=a.forwardRef(Ue);n.p;var Ge,Xe=function(){var e,t=Object(a.useContext)(ot),n=t.chatWindow,c=t.setChatWindow,r=t.user,s=Object(a.useState)(),i=Object(o.a)(s,2),u=i[0],m=i[1],b=Object(a.useState)(),d=Object(o.a)(b,2),f=d[0],p=d[1],O=Object(a.useRef)(),x=Object(a.useRef)();return Object(a.useMemo)((function(){if(n){e=n.id;var t=Object(l.f)(j,"/chatrooms/"+e+"/members");Object(l.d)(t,(function(e){var t=e.val();p(t)}))}}),[n]),Object(a.useEffect)((function(){if(e){var t=Object(l.f)(j,"chatrooms/"+e);Object(l.d)(t,(function(e){var t=e.val();c(t)}))}}),[e]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:Object(w.a)(pe.a.deleteComfirm,pe.a.hide),children:[Object(h.jsx)("h4",{children:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a ph\xf2ng?"}),Object(h.jsx)("button",{onClick:function(e){e.target.parentElement.classList.add(pe.a.hide),e.target.parentElement.style.display="none",function(){var e=Object(l.f)(j);Object(l.b)(Object(l.a)(e,"chatrooms/".concat(n.id,"/members"))).then((function(e){e.exists()?(Object.keys(e.val()).forEach((function(e){console.log(e),Object(l.g)(Object(l.f)(j,"users/".concat(e,"/rooms/").concat(n.id)))})),Object(l.g)(Object(l.f)(j,"chatrooms/".concat(n.id))),c(null)):console.log("No data available")})).catch((function(e){console.error(e)}))}()},children:"X\xf3a"}),Object(h.jsx)("button",{onClick:function(e){e.target.parentElement.classList.add(pe.a.hide),e.target.parentElement.style.display="none"},children:"H\u1ee7y"})]}),Object(h.jsxs)("div",{ref:O,className:Object(w.a)(pe.a.userInvite,pe.a.hide),children:[Object(h.jsx)("div",{onClick:function(){x.current.innerText="",O.current.classList.add(pe.a.hide),O.current.style.display="none",m("")},children:"x"}),Object(h.jsx)("h3",{children:"M\u1eddi"}),Object(h.jsx)("input",{placeholder:"Nh\u1eadp t\xe0i kho\u1ea3n ng\u01b0\u1eddi d\xf9ng...",value:u,onChange:function(e){x.current.innerText="",m(e.target.value)}}),Object(h.jsx)("p",{ref:x,className:pe.a.error}),Object(h.jsx)("button",{onClick:function(){!function(){if(u){var e=Object(l.f)(j);Object(l.b)(Object(l.a)(e,"users/".concat(u))).then((function(t){if(t.exists()){var a=t.val().rooms||{},c=Object.keys(a).some((function(e){return e===n.id}));if(c)return void(x.current.innerText="Ng\u01b0\u1eddi d\xf9ng \u0111\xe3 t\u1ed3n t\u1ea1i trong ph\xf2ng!");var r={};r["users/".concat(u,"/rooms/").concat(n.id)]={name:n.name},Object(l.i)(e,r),Object(l.b)(Object(l.a)(e,"users/".concat(u,"/avata"))).then((function(e){e.exists()?Object(l.h)(Object(l.f)(j,"chatrooms/"+n.id+"/members/"+u),{avata:e.val()}):Object(l.h)(Object(l.f)(j,"chatrooms/"+n.id+"/members/"+u),{avata:""})})).catch((function(e){console.error(e)})),O.current.classList.add(pe.a.hide),O.current.style.display="none",x.current.innerText="",m("")}else x.current.innerText="Kh\xf4ng t\xecm th\u1ea5y ng\u01b0\u1eddi d\xf9ng!"})).catch((function(e){console.error(e)}))}else x.current.innerText="Vui l\xf2ng nh\u1eadp t\xean t\xe0i kho\u1ea3n"}()},children:"M\u1eddi"})]}),n?Object(h.jsxs)("div",{className:pe.a.header,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h4",{children:n.name}),Object(h.jsx)("span",{children:n.description})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("span",{onClick:function(){O.current.style.display="block",O.current.classList.remove(pe.a.hide)},className:pe.a.invite,children:[Object(h.jsx)(Be,{}),Object(h.jsx)("span",{children:"M\u1eddi"})]}),f?Object(h.jsxs)("span",{className:pe.a.members,children:[Object(h.jsx)("div",{className:pe.a.icon1,children:Object(h.jsx)("img",{src:f[Object.keys(f)[0]].avata?f[Object.keys(f)[0]].avata:J,alt:"img1"})}),Object.keys(f).length>1?Object(h.jsx)("div",{className:pe.a.icon2,children:Object(h.jsx)("img",{src:f[Object.keys(f)[1]].avata?f[Object.keys(f)[1]].avata:J,alt:"img2"})}):"",Object.keys(f).length>=3?Object(h.jsx)("div",{className:pe.a.icon3,children:Object(h.jsxs)("span",{style:{justifyContent:"center"},children:["+",Object.keys(f).length-2]})}):"",Object.keys(f).length>=3?Object(h.jsx)("span",{className:pe.a.memberListWrap,children:Object(h.jsx)("span",{className:Object(w.a)(pe.a.memberList),children:Object.keys(f).map((function(e,t){return Object(h.jsx)("img",{src:f[e].avata||J,alt:"img"},t)}))})}):""]}):"",n.host===r.accountName?Object(h.jsxs)("span",{className:pe.a.arrowDown,onMouseEnter:function(){document.querySelector(".".concat(pe.a.roomSetting)).style.display="flex"},onMouseLeave:function(){document.querySelector(".".concat(pe.a.roomSetting)).style.display="none"},children:[Object(h.jsx)(Fe,{}),Object(h.jsx)("span",{className:Object(w.a)(pe.a.roomSetting),children:Object(h.jsx)("div",{onClick:function(e){document.querySelector(".".concat(pe.a.deleteComfirm)).style.display="block",document.querySelector(".".concat(pe.a.deleteComfirm)).classList.remove(pe.a.hide),e.target.parentElement.style.display="none"},className:pe.a.roomDelete,children:"X\xf3a ph\xf2ng"})})]}):""]})]}):Object(h.jsx)("h1",{className:pe.a.noroom,style:{margin:"40px auto"},children:"Vui l\xf2ng ch\u1ecdn room chat!!!"})]})},Ke=n(43),We=n.n(Ke),Je=["title","titleId"];function Ye(){return Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ye.apply(this,arguments)}function He(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function Ze(e,t){var n=e.title,c=e.titleId,r=He(e,Je);return a.createElement("svg",Ye({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"smile",className:"svg-inline--fa fa-smile fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",ref:t,"aria-labelledby":c},r),n?a.createElement("title",{id:c},n):null,Ge||(Ge=a.createElement("path",{fill:"currentColor",d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm-160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm194.8 170.2C334.3 380.4 292.5 400 248 400s-86.3-19.6-114.8-53.8c-13.6-16.3 11-36.7 24.6-20.5 22.4 26.9 55.2 42.2 90.2 42.2s67.8-15.4 90.2-42.2c13.4-16.2 38.1 4.2 24.6 20.5z"})))}var Qe=a.forwardRef(Ze),$e=(n.p,n(18)),et=n.n($e);var tt=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=Object(a.useRef)(),c=Object(a.useContext)(ot),r=c.chatWindow,s=c.user,i=c.loading,u=Object(a.useState)(),m=Object(o.a)(u,2),b=m[0],d=m[1];function p(){if(""!==n.current.innerText){var e=new Date,t={message:n.current.innerText,avata:s.avata||"",name:s.name,time:e.toLocaleString(),account:s.accountName},a=Object(l.f)(j,"chatrooms/".concat(r.id,"/chatBox")),c=Object(l.e)(a);Object(l.h)(c,t),n.current.innerText=""}else n.current.innerText=""}function O(e){if(e===s.accountName)return et.a.me}if(Object(a.useEffect)((function(){if(r){var e=Object(l.f)(j,"chatrooms/"+r.id+"/chatBox");Object(l.d)(e,(function(e){d(e.val())}))}}),[r]),console.log("chatSection-render"),r){var x=[];for(var v in r.chatBox||(r.chatBox={}),b)x.unshift(b[v]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:et.a.chatSection,children:Object(h.jsx)("div",{className:et.a.chatBox,children:x.map((function(e){return Object(h.jsxs)("div",{className:Object(w.a)(et.a.chatItem,O(e.account)),children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:e.avata||J,alt:"img"}),Object(h.jsx)("span",{className:et.a.name,children:e.name}),Object(h.jsx)("span",{className:et.a.time,children:e.time})]}),Object(h.jsx)("p",{children:e.message})]},Math.random().toString(36).substr(2,9))}))})}),Object(h.jsxs)("div",{className:et.a.sendGroup,children:[Object(h.jsxs)("div",{className:et.a.inputWrap,children:[Object(h.jsx)("div",{ref:e,className:et.a.emoji,children:Object(h.jsx)(We.a,{onEmojiClick:function(e,t){n.current.innerText+=t.emoji}})}),Object(h.jsx)("div",{ref:t,className:et.a.overlay,onClick:function(){t.current.style.display="none",e.current.style.display="none"}}),Object(h.jsx)("div",{ref:n,contentEditable:"true","data-text":"Nh\u1eadp tin nh\u1eafn...",className:et.a.input,onKeyDown:function(e){"Enter"===e.key&&(window.innerWidth>=740&&e.preventDefault(),p())}}),Object(h.jsx)(Qe,{onClick:function(){"block"===e.current.style.display?e.current.style.display="none":(t.current.style.display="block",e.current.style.display="block")}})]}),Object(h.jsx)("button",{onClick:p,children:"G\u1eedi"})]})]})}return Object(h.jsxs)("span",{className:"responsive",children:[" ",i?Object(h.jsx)(f,{}):""]})};var nt=function(){return Object(h.jsxs)("div",{className:he.a.chatWindow,children:[Object(h.jsx)(Xe,{}),Object(h.jsx)(tt,{})]})};var at=function(){return console.log("chat-room:rerender"),Object(h.jsxs)("div",{className:F.a.chatroom,children:[Object(h.jsx)(be,{}),Object(h.jsx)(nt,{})]})},ct=n(34),rt=n.n(ct);var st=function(){console.log("useredit:rerender");var e=Object(a.useContext)(ot).user,t=Object(a.useState)(),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(),u=Object(o.a)(s,2),m=u[0],b=u[1],d=Object(i.f)();return Object(a.useEffect)((function(){r(e.name),b(e.avata)}),[e]),Object(h.jsxs)("form",{className:rt.a.editForm,children:[Object(h.jsx)("span",{children:"T\xean \u0111\u1ea7y \u0111\u1ee7"}),Object(h.jsx)("input",{spellCheck:"false",value:c,onChange:function(e){r(e.target.value)},className:rt.a.name}),Object(h.jsx)("span",{children:"Avatar URL"}),Object(h.jsx)("input",{spellCheck:"false",value:m,onChange:function(e){b(e.target.value)},className:rt.a.avata}),Object(h.jsxs)("button",{onClick:function(t){if(t.preventDefault(),c){var n={};n["users/".concat(e.accountName,"/name")]=c,n["users/".concat(e.accountName,"/avata")]=m,Object(l.i)(Object(l.f)(j),n),(Object.keys(e.rooms||{})||[]).forEach((function(t){Object(l.h)(Object(l.f)(j,"chatrooms/"+t+"/members/"+e.accountName),{avata:m})})),d("/Chat-Room/chatroom")}},children:[Object(h.jsx)("span",{}),Object(h.jsx)("span",{}),Object(h.jsx)("span",{}),Object(h.jsx)("span",{}),"L\u01b0u"]})]})},ot=Object(a.createContext)();var it=function(){var e=Object(a.useState)(),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),s=Object(o.a)(r,2),u=s[0],m=s[1],b=Object(a.useState)(!1),d=Object(o.a)(b,2),f=d[0],p=d[1],O=Object(i.f)();return Object(a.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem("user"));if(e){c(e),O("Chat-Room/chatroom");var t=Object(l.f)(j,"users/"+JSON.parse(sessionStorage.getItem("user")).accountName);Object(l.d)(t,(function(e){var t=e.val();c(t)})),console.log("call")}}),[]),Object(a.useEffect)((function(){u&&m(null)}),[window.location.pathname]),Object(a.useEffect)((function(){n&&sessionStorage.setItem("user",JSON.stringify(n))}),[n]),console.log(n),console.log("app:rerender"),Object(h.jsx)(ot.Provider,{value:{user:n,setUser:c,chatWindow:u,setChatWindow:m,loading:f,setLoading:p},children:Object(h.jsxs)(i.c,{children:[Object(h.jsx)(i.a,{path:"/Chat-Room/signin",element:n?Object(h.jsx)(at,{}):Object(h.jsx)(g,{setUser:c})}),Object(h.jsx)(i.a,{path:"/Chat-Room/signup",element:n?Object(h.jsx)(at,{}):Object(h.jsx)(B,{})}),Object(h.jsx)(i.a,{path:"/Chat-Room/chatroom",element:n?Object(h.jsx)(at,{}):Object(h.jsx)(P,{})}),Object(h.jsx)(i.a,{path:"/Chat-Room/useredit",element:n?Object(h.jsx)(st,{}):Object(h.jsx)(g,{})}),Object(h.jsx)(i.a,{path:"/Chat-Room/",element:n?Object(h.jsx)(at,{}):Object(h.jsx)(P,{})})]})})},lt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};r.a.render(Object(h.jsx)(s.a,{children:Object(h.jsx)(it,{})}),document.getElementById("root")),lt()},9:function(e,t,n){e.exports={login:"main_login__22hVo",signUp:"main_signUp__1ptbx",formHeading:"main_formHeading__2k895",formPara:"main_formPara__2JWuK",formGroup:"main_formGroup__26tHh",invalid:"main_invalid__1BBJU",loginFail:"main_loginFail__2vw7M",userExist:"main_userExist__365nr"}}},[[54,1,2]]]);
//# sourceMappingURL=main.d7270b8d.chunk.js.map