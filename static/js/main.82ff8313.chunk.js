(this.webpackJsonpchat_app=this.webpackJsonpchat_app||[]).push([[0],{22:function(e,t,n){e.exports={chatSection:"main_chatSection__3HH8F",chatBox:"main_chatBox__34CnR",sendGroup:"main_sendGroup__1Ih-c",chatItem:"main_chatItem__2Kwf7",name:"main_name__19Ubd",time:"main_time__1ty5m",me:"main_me__1NZQ8"}},27:function(e,t,n){e.exports={header:"main_header__1eVGv",members:"main_members__3W1fB",invite:"main_invite__w5SZs",userInvite:"main_userInvite__1cSMb",appear:"main_appear__ynNLe",error:"main_error__G3gii"}},30:function(e,t,n){e.exports={roomList:"main_roomList__2Lf01",list:"main_list__SHIZv",slideTop:"main_slideTop__IV1N8",addRoom:"main_addRoom__4CBbs",addRoombox:"main_addRoombox__3nx6z",appear:"main_appear__3rs8o"}},32:function(e,t,n){e.exports={userInfo:"main_userInfo__3mXAp",user:"main_user__89aq3",logout:"main_logout__1Zxo0"}},33:function(e,t,n){e.exports={editForm:"main_editForm__2qoDd"}},38:function(e,t,n){e.exports={home:"main_home__3yhlU"}},39:function(e,t,n){e.exports={chatroom:"main_chatroom__1uN1S"}},40:function(e,t,n){e.exports={SideBar:"main_SideBar__2n53m"}},41:function(e,t,n){e.exports={chatWindow:"main_chatWindow__3RwQU"}},50:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(36),s=n.n(r),o=n(17),i=n(8),l=n(7),u=n(37),j=n(5),m=(Object(u.a)({apiKey:"AIzaSyD7qlRtJFMoX3kS3meXSTVK5FJyLYSjQZE",authDomain:"chat-app-b6c92.firebaseapp.com",databaseURL:"https://chat-app-b6c92-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"chat-app-b6c92",storageBucket:"chat-app-b6c92.appspot.com",messagingSenderId:"813309308115",appId:"1:813309308115:web:f894823381c23bed0ab826",measurementId:"G-BYW0P6GBV7"}),Object(j.c)()),b=(n(50),n(16)),d=n.n(b),f=n(20),h=n(9),O=n.n(h),p=n(1),v=document.querySelector.bind(document);function x(e){var t,n={},a=v(e.form);function c(e,a){for(var c=0;c<n[a.selector].length&&!(t=n[a.selector][c](e.value));c++);t&&(e.parentElement.classList.add(O.a.invalid),e.parentElement.querySelector("span").innerText=t)}a&&(e.rules.forEach((function(e){Array.isArray(n[e.selector])?n[e.selector].push(e.test):n[e.selector]=[e.test];var t=a.querySelector(e.selector);t.onblur=function(){c(t,e)},t.oninput=function(){t.parentElement.classList.remove(O.a.invalid),t.parentElement.querySelector("span").innerText=""}})),a.onsubmit=function(t){t.preventDefault(),e.rules.forEach((function(e){c(a.querySelector(e.selector),e)}))})}x.isRequired=function(e,t){return{selector:e,test:function(e){return e.trim()?void 0:t||"vui l\xf2ng nh\u1eadp tr\u01b0\u1eddng n\xe0y!"}}},x.minLength=function(e,t,n){return{selector:e,test:function(e){return e.length>=t?void 0:n||"Tr\u01b0\u1eddng n\xe0y t\xf4i t\u1ed1i thi\u1ec3u ".concat(t," k\xed t\u1ef1!")}}};var g=function(){var e=Object(l.f)(),t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),o=Object(i.a)(s,2),u=o[0],b=o[1],h=Object(a.useContext)(Me).setUser,v=Object(a.useRef)();return Object(a.useEffect)((function(){x({form:"#form1",rules:[x.isRequired("#accountName","Vui l\xf2ng nh\u1eadp t\xean t\xe0i kho\u1ea3n!"),x.isRequired("#password","Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u"),x.minLength("#password",6,"m\u1eadt kh\u1ea9u ph\u1ea3i t\u1ed1i thi\u1ec3u 6 k\xed t\u1ef1!")]})}),[]),Object(p.jsx)("div",{className:O.a.login,children:Object(p.jsxs)("form",{id:"form1",children:[Object(p.jsx)("h2",{style:{marginTop:"0"},children:"\u0110\u0103ng Nh\u1eadp"}),Object(p.jsxs)("div",{className:O.a.formGroup,children:[Object(p.jsx)("label",{htmlFor:"accountName",children:"T\xean t\xe0i kho\u1ea3n"}),Object(p.jsx)("input",{value:c,type:"text",name:"accountName",id:"accountName",placeholder:"VD: expample123",onChange:function(e){r(e.target.value),v.current.innerText=""}}),Object(p.jsx)("span",{className:O.a.errorMessage})]}),Object(p.jsxs)("div",{className:O.a.formGroup,children:[Object(p.jsx)("label",{htmlFor:"password",children:"M\u1eadt kh\u1ea9u"}),Object(p.jsx)("input",{value:u,type:"password",name:"password",id:"password",onChange:function(e){b(e.target.value),v.current.innerText=""}}),Object(p.jsx)("span",{className:O.a.errorMessage})]}),Object(p.jsx)("span",{ref:v}),Object(p.jsx)("button",{onClick:Object(f.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c&&u.length>=6)){t.next=4;break}return n=Object(j.f)(m),t.next=4,Object(j.b)(Object(j.a)(n,"users/"+c)).then((function(t){t.exists()&&(a=t.val()).password===u?(sessionStorage.setItem("user",a),h(a),e("/chatroom")):v.current.innerText="Username or password incorrect!"})).catch((function(e){console.error(e)}));case 4:case"end":return t.stop()}}),t)}))),children:"\u0110\u0103ng Nh\u1eadp"})]})})},y=n(19),w=n(14),N=n(13);var C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;Object(j.g)(Object(j.f)(m,e+t),Object(w.a)({},n)).then((function(){console.log("susscess")})).catch((function(e){return console.log(e)}))},S=document.querySelector.bind(document),k=document.querySelectorAll.bind(document);function _(e,t){for(;null!==e;){if(e.parentElement.classList.contains(t))return e.parentElement;e=e.parentElement}}var A="name",q="accountName",E="password",M="passwordConfirmation",T="gender",I={name:"",accountName:"",password:"",passwordConfirmation:"",gender:null};function V(e){return{action:T,payload:e}}function R(e,t){switch(t.action){case A:return Object(w.a)(Object(w.a)({},e),{},{name:t.payload});case q:return Object(w.a)(Object(w.a)({},e),{},{accountName:t.payload});case E:return Object(w.a)(Object(w.a)({},e),{},{password:t.payload});case M:return Object(w.a)(Object(w.a)({},e),{},{passwordConfirmation:t.payload});case T:return Object(w.a)(Object(w.a)({},e),{},{gender:t.payload});default:return e}}function B(e){var t,n={},a=S(e.form);if(a){var c=function(e,a,c){if(c=_(e,O.a.formGroup),e)for(var r=0;r<n[a.selector].length&&!(t=n[a.selector][r](e.value));r++);t&&(c.classList.add(O.a.invalid),c.querySelector("span").innerText=t)};e.rules.forEach((function(e){var t=a.querySelector(e.selector),r=_(t,O.a.formGroup);Array.isArray(n[e.selector])?n[e.selector].push(e.test):n[e.selector]=[e.test],t.onblur=function(){c(t,e)},t.oninput=function(){r.classList.remove(O.a.invalid),r.querySelector("span").innerText=""}})),a.querySelector("button").onclick=function(){e.rules.forEach((function(e){var t=a.querySelector(e.selector),n=_(t,O.a.formGroup);c(t,e,n)}))}}}B.isRequired=function(e,t){return{selector:e,test:function(e){return e.trim()?void 0:t||"Vui l\xf2ng nh\u1eadp tr\u01b0\u1eddng n\xe0y!"}}},B.isPassword=function(e,t){return{selector:e,test:function(e){return e.length>=6?void 0:"m\u1eadt kh\u1ea9u ph\u1ea3i t\u1ed1i thi\u1ec3u ".concat(t," k\xed t\u1ef1!")}}},B.isPasswordComfirmation=function(e,t,n){return{selector:e,test:function(e){return e===t()?void 0:n||"Nh\u1eadp l\u1ea1i kh\xf4ng ch\xednh x\xe1c!"}}};var D=function(){var e=Object(l.f)(),t=Object(a.useReducer)(R,I),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useRef)(),o=Object(a.useRef)();return Object(a.useEffect)((function(){B({form:"#form1",rules:[B.isRequired("#name","vui l\xf2ng nh\u1eadp t\xean \u0111\u1ea7y \u0111\u1ee7!"),B.isRequired("#accountName","vui l\xf2ng nh\u1eadp t\xean t\xe0i kho\u1ea3n!"),B.isRequired("#password","vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u!"),B.isPassword("#password",6),B.isRequired("#password_confirmation","vui l\xf2ng nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u!"),B.isPassword("#password_confirmation",6),B.isPasswordComfirmation("#password_confirmation",(function(){return S("#form1").querySelector("#password").value}),"M\u1eadt kh\u1ea9u x\xe1c nh\u1eadn kh\xf4ng ch\xednh x\xe1c!")]}),Object(y.a)(k("input[type=radio]")).forEach((function(e){e.onchange=function(){S("#gender").querySelector("span").innerText=""}}))}),[]),Object(a.useEffect)((function(){S("#form1").onsubmit=function(t){if(t.preventDefault(),c.gender?(S("#gender").querySelector("span").innerText="",S("#gender").classList.remove(O.a.invalid)):(S("#gender").querySelector("span").innerText="vui l\xf2ng ch\u1ecdn gi\u1edbi t\xednh",S("#gender").classList.add(O.a.invalid)),!S(".".concat(O.a.invalid))){var n=c;delete n.passwordConfirmation,console.log(n);var a=Object(j.f)(m);Object(j.b)(Object(j.a)(a,"users/".concat(n.accountName))).then((function(t){t.exists()?o.current.innerText="Username is exsisted!":(C("users/",n.accountName,n),alert("SignUp susscess! signin please!!!"),e("/signin"))})).catch((function(e){console.error(e)}))}}}),[c]),Object(p.jsxs)("div",{className:Object(N.a)(O.a.login),children:[Object(p.jsxs)("form",{action:"POST",id:"form1",autoComplete:"off",children:[Object(p.jsxs)("div",{className:Object(N.a)(O.a.formHeader),children:[Object(p.jsx)("h1",{className:Object(N.a)(O.a.formHeading),children:"\u0110\u0103ng k\xed th\xe0nh vi\xean"}),Object(p.jsx)("p",{className:Object(N.a)(O.a.formPara),children:"C\xf9ng nhau h\u1ecdc l\u1eadp tr\xecnh mi\u1ec5n ph\xed t\u1ea1i f8"})]}),Object(p.jsxs)("div",{className:Object(N.a)(O.a.formGroup),children:[Object(p.jsx)("label",{htmlFor:"name",children:"T\xean \u0111\u1ea7y \u0111\u1ee7"}),Object(p.jsx)("input",{value:c.name,type:"text",name:"name",id:"name",placeholder:"VD: L\xea V\u0103n Thi",onChange:function(e){var t;r((t=e.target.value,{action:A,payload:t}))}}),Object(p.jsx)("span",{className:Object(N.a)(O.a.errorMessage)})]}),Object(p.jsxs)("div",{className:Object(N.a)(O.a.formGroup),children:[Object(p.jsx)("label",{htmlFor:"accountName",children:"T\xean t\xe0i kho\u1ea3n"}),Object(p.jsx)("input",{value:c.accountName,name:"accountName",id:"accountName",placeholder:"VD: example1001",onChange:function(e){var t;r((t=e.target.value,{action:q,payload:t})),o.current.innerText=""}}),Object(p.jsx)("span",{className:Object(N.a)(O.a.errorMessage)})]}),Object(p.jsxs)("div",{className:Object(N.a)(O.a.formGroup),children:[Object(p.jsx)("label",{htmlFor:"password",children:"M\u1eadt kh\u1ea9u"}),Object(p.jsx)("input",{value:c.password,type:"password",name:"password",id:"password",placeholder:"M\u1eadt kh\u1ea9u",onChange:function(e){var t;r((t=e.target.value,{action:E,payload:t}))}}),Object(p.jsx)("span",{className:Object(N.a)(O.a.errorMessage)})]}),Object(p.jsxs)("div",{className:Object(N.a)(O.a.formGroup),children:[Object(p.jsx)("label",{htmlFor:"password_confirmation",children:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"}),Object(p.jsx)("input",{value:c.passwordConfirmation,type:"password",name:"password_confirmation",id:"password_confirmation",placeholder:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",onChange:function(e){var t;r((t=e.target.value,{action:M,payload:t}))}}),Object(p.jsx)("span",{className:Object(N.a)(O.a.errorMessage)})]}),Object(p.jsxs)("div",{id:"gender",className:Object(N.a)(O.a.formGroup),children:[Object(p.jsx)("label",{children:"Gi\u1edbi t\xednh"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"radio",name:"gender",value:"male",onChange:function(e){return r(V(e.target.value))}}),"Nam"]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"radio",name:"gender",value:"female",onChange:function(e){return r(V(e.target.value))}}),"Nu"]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"radio",name:"gender",value:"other",onChange:function(e){return r(V(e.target.value))}}),"Khac"]}),Object(p.jsx)("span",{className:Object(N.a)(O.a.errorMessage)})]}),Object(p.jsx)("span",{ref:o}),Object(p.jsx)("button",{ref:s,className:Object(N.a)(O.a.button),children:"\u0110\u0103ng k\xfd"})]}),Object(p.jsx)("script",{src:"../../library/Validator"})]})},L=n(38),U=n.n(L);var z=function(){return Object(p.jsxs)("div",{className:Object(N.a)(U.a.home),children:[Object(p.jsx)("h2",{children:"WELCOME TO CHAT APP"}),Object(p.jsx)(o.b,{to:"/signin",children:"\u0110\u0103ng Nh\u1eadp"}),Object(p.jsx)(o.b,{to:"/signup",children:"\u0110\u0103ng K\xfd"})]})},G=n(39),P=n.n(G),F=n(40),K=n.n(F),X=n(32),J=n.n(X),Y="data:image/png;base64,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";var H,W=function(){var e=Object(l.f)(),t=Object(a.useContext)(Me),n=t.user,c=t.setUser;return Object(p.jsxs)("div",{className:J.a.userInfo,children:[Object(p.jsxs)("div",{className:J.a.user,children:[Object(p.jsx)(o.b,{to:"/useredit",children:Object(p.jsx)("img",{src:n.avata||Y,alt:"avata"})}),Object(p.jsx)("span",{children:n.name})]}),Object(p.jsx)("button",{className:J.a.logout,onClick:function(){sessionStorage.removeItem("user"),c(void 0),e("/signin")},children:"\u0110\u0103ng xu\u1ea5t"})]})},Z=n(6),Q=n(30),$=n.n(Q),ee=["title","titleId"];function te(){return te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},te.apply(this,arguments)}function ne(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function ae(e,t){var n=e.title,c=e.titleId,r=ne(e,ee);return a.createElement("svg",te({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"greater-than",className:"svg-inline--fa fa-greater-than fa-w-12",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",ref:t,"aria-labelledby":c},r),n?a.createElement("title",{id:c},n):null,H||(H=a.createElement("path",{fill:"currentColor",d:"M365.52 209.85L59.22 67.01c-16.06-7.49-35.15-.54-42.64 15.52L3.01 111.61c-7.49 16.06-.54 35.15 15.52 42.64L236.96 256.1 18.49 357.99C2.47 365.46-4.46 384.5 3.01 400.52l13.52 29C24 445.54 43.04 452.47 59.06 445l306.47-142.91a32.003 32.003 0 0 0 18.48-29v-34.23c-.01-12.45-7.21-23.76-18.49-29.01z"})))}var ce,re=a.forwardRef(ae),se=(n.p,["title","titleId"]);function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oe.apply(this,arguments)}function ie(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function le(e,t){var n=e.title,c=e.titleId,r=ie(e,se);return a.createElement("svg",oe({"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus-square",className:"svg-inline--fa fa-plus-square fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",ref:t,"aria-labelledby":c},r),n?a.createElement("title",{id:c},n):null,ce||(ce=a.createElement("path",{fill:"currentColor",d:"M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"})))}var ue=a.forwardRef(le);n.p;var je=function(){var e=Object(a.useRef)(),t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),o=Object(i.a)(s,2),l=o[0],u=o[1],b=Object(a.useContext)(Me),d=b.user,f=b.setChatWindow;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:$.a.roomList,children:[Object(p.jsx)("input",{style:{display:"none"},type:"checkbox",id:"roomlist"}),Object(p.jsx)("label",{htmlFor:"roomlist",children:Object(p.jsx)(re,{})}),Object(p.jsx)("span",{children:"Danh s\xe1ch ph\xf2ng"}),Object(p.jsxs)("ul",{className:$.a.list,children:[d.rooms?d.rooms.map((function(e){return Object(p.jsx)("li",{onClick:function(){return function(e){var t=Object(j.f)(m);Object(j.b)(Object(j.a)(t,"chatrooms/"+e)).then((function(e){e.exists()?f(e.val()):console.log("No data available")})).catch((function(e){console.error(e)}))}(e.id)},children:e.name},e.id)})):"",Object(p.jsxs)("li",{className:$.a.addRoom,onClick:function(){return e.current.style.display="block"},children:[Object(p.jsx)(ue,{}),"Th\xeam ph\xf2ng"]})]})]}),Object(p.jsxs)("div",{ref:e,className:$.a.addRoombox,children:[Object(p.jsx)("span",{onClick:function(){e.current.style.display="none",r(""),u("")},children:"\xd7"}),Object(p.jsx)("h4",{children:"Room name"}),Object(p.jsx)("input",{value:c,placeholder:"Enter room name",onChange:function(e){return r(e.target.value)}}),Object(p.jsx)("h4",{children:"Description"}),Object(p.jsx)("textarea",{value:l,placeholder:"Description of room",onChange:function(e){return u(e.target.value)}}),Object(p.jsx)("button",{onClick:function(){var t=Math.random().toString(36).substr(2,9);C("chatrooms/",t,{name:c,description:l,members:Object(Z.a)({},d.accountName,{avata:d.avata||""}),chatbox:[],id:t});var n=d.rooms||[];n.unshift({id:t,name:c}),C("users/",d.accountName,Object(w.a)(Object(w.a)({},d),{},{rooms:n})),e.current.style.display="none",r(""),u("")},children:"ADD"})]})]})};var me,be=function(){return Object(p.jsxs)("div",{className:K.a.SideBar,children:[Object(p.jsx)(W,{}),Object(p.jsx)(je,{})]})},de=n(41),fe=n.n(de),he=n(27),Oe=n.n(he),pe=["title","titleId"];function ve(){return ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ve.apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function ge(e,t){var n=e.title,c=e.titleId,r=xe(e,pe);return a.createElement("svg",ve({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"user-plus",className:"svg-inline--fa fa-user-plus fa-w-20",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",ref:t,"aria-labelledby":c},r),n?a.createElement("title",{id:c},n):null,me||(me=a.createElement("path",{fill:"currentColor",d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"})))}var ye=a.forwardRef(ge);n.p;var we=function(){var e,t=Object(a.useContext)(Me),n=t.chatWindow,c=t.setChatWindow,r=Object(a.useState)(),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(a.useRef)(),b=Object(a.useRef)();return Object(a.useEffect)((function(){n&&(e=n.id)}),[n]),Object(a.useEffect)((function(){var t=Object(j.f)(m,"chatrooms/"+e);Object(j.d)(t,(function(e){var t=e.val();c(t)}))}),[e]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{ref:u,className:Oe.a.userInvite,children:[Object(p.jsx)("div",{onClick:function(){b.current.innerText="",u.current.style.display="none",l("")},children:"x"}),Object(p.jsx)("h3",{children:"Invite"}),Object(p.jsx)("input",{placeholder:"Enter username...",value:o,onChange:function(e){b.current.innerText="",l(e.target.value)}}),Object(p.jsx)("p",{ref:b,className:Oe.a.error}),Object(p.jsx)("button",{onClick:function(){if(o){var e=Object(j.f)(m);Object(j.b)(Object(j.a)(e,"users/".concat(o))).then((function(t){if(t.exists()){var a=t.val().rooms||[];if(a.some((function(e){return e.id===n.id})))return void(b.current.innerText="User had exsisted in this room.");a=[{id:n.id,name:n.name}].concat(Object(y.a)(a));var c={};c["users/".concat(o,"/rooms")]=a,Object(j.h)(e,c),Object(j.b)(Object(j.a)(e,"users/".concat(o,"/avata"))).then((function(e){e.exists()?Object(j.g)(Object(j.f)(m,"chatrooms/"+n.id+"/members/"+o),{avata:e.val()}):Object(j.g)(Object(j.f)(m,"chatrooms/"+n.id+"/members/"+o),{avata:""})})).catch((function(e){console.error(e)})),u.current.style.display="none",b.current.innerText="",l("")}else b.current.innerText="User not found, try again please!"})).catch((function(e){console.error(e)}))}},children:"ADD"})]}),n?Object(p.jsxs)("div",{className:Oe.a.header,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{children:n.name}),Object(p.jsx)("span",{children:n.description})]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("span",{onClick:function(){u.current.style.display="block"},className:Oe.a.invite,children:[Object(p.jsx)(ye,{}),Object(p.jsx)("span",{children:"M\u1eddi"})]}),Object(p.jsxs)("span",{className:Oe.a.members,children:[Object(p.jsx)("img",{src:n.members[Object.keys(n.members)[0]].avata?n.members[Object.keys(n.members)[0]].avata:Y,alt:"img1"}),Object.keys(n.members).length>1?Object(p.jsx)("img",{src:n.members[Object.keys(n.members)[1]].avata?n.members[Object.keys(n.members)[1]].avata:Y,alt:"img2"}):"",Object.keys(n.members).length>=3?Object(p.jsxs)("span",{style:{justifyContent:"center"},children:["+",Object.keys(n.members).length-2]}):""]})]})]}):Object(p.jsx)("h1",{style:{margin:"40px auto"},children:"Vui l\xf2ng ch\u1ecdn room chat!!!"})]})},Ne=n(22),Ce=n.n(Ne);var Se=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useContext)(Me),s=r.chatWindow,o=r.user,l=Object(a.useState)(),u=Object(i.a)(l,2),b=u[0],d=u[1];function f(){if(n){var e=new Date,t={message:n,avata:o.avata||"",name:o.name,time:e.toLocaleString(),account:o.accountName},a=Object(j.f)(m,"chatrooms/".concat(s.id,"/chatBox")),r=Object(j.e)(a);Object(j.g)(r,t),c("")}}function h(e){if(e===o.accountName)return Ce.a.me}if(Object(a.useEffect)((function(){if(s){var e=Object(j.f)(m,"chatrooms/"+s.id+"/chatBox");Object(j.d)(e,(function(e){d(e.val())}))}}),[s]),s){var O=[];for(var v in s.chatBox||(s.chatBox={}),b)O.unshift(b[v]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:Ce.a.chatSection,children:Object(p.jsx)("div",{className:Ce.a.chatBox,children:O.map((function(e){return Object(p.jsxs)("div",{className:Object(N.a)(Ce.a.chatItem,h(e.account)),children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:e.avata||Y,alt:"img"}),Object(p.jsx)("span",{className:Ce.a.name,children:e.name}),Object(p.jsx)("span",{className:Ce.a.time,children:e.time})]}),Object(p.jsx)("p",{children:e.message})]},e.time)}))})}),Object(p.jsxs)("div",{className:Ce.a.sendGroup,children:[Object(p.jsx)("input",{placeholder:"message...",value:n,onChange:function(e){return c(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&f()}}),Object(p.jsx)("button",{onClick:f,children:"G\u1eedi"})]})]})}return Object(p.jsx)(p.Fragment,{})};var ke=function(){return Object(p.jsxs)("div",{className:fe.a.chatWindow,children:[Object(p.jsx)(we,{}),Object(p.jsx)(Se,{})]})};var _e=function(){return Object(p.jsxs)("div",{className:P.a.chatroom,children:[Object(p.jsx)(be,{}),Object(p.jsx)(ke,{})]})},Ae=n(33),qe=n.n(Ae);var Ee=function(){var e=Object(a.useContext)(Me).user,t=Object(a.useState)(),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(),o=Object(i.a)(s,2),u=o[0],b=o[1],d=Object(l.f)();return Object(a.useEffect)((function(){r(e.name),b(e.avata)}),[e]),Object(p.jsxs)("form",{className:qe.a.editForm,children:[Object(p.jsx)("span",{children:"Name"}),Object(p.jsx)("input",{value:c,onChange:function(e){r(e.target.value)},className:qe.a.name}),Object(p.jsx)("span",{children:"Avata URL"}),Object(p.jsx)("input",{value:u,onChange:function(e){b(e.target.value)},className:qe.a.avata}),Object(p.jsx)("button",{onClick:function(t){if(t.preventDefault(),c){var n={};n["users/".concat(e.accountName,"/name")]=c,n["users/".concat(e.accountName,"/avata")]=u,Object(j.h)(Object(j.f)(m),n),e.rooms.forEach((function(t){Object(j.g)(Object(j.f)(m,"chatrooms/"+t.id+"/members/"+e.accountName),{avata:u})})),d("/chatroom")}},children:"UPDATE"})]})},Me=Object(a.createContext)();var Te=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),s=Object(i.a)(r,2),o=s[0],u=s[1],b=Object(l.f)(),d=Object(a.useRef)();return Object(a.useLayoutEffect)((function(){var e=JSON.parse(sessionStorage.getItem("user"));e&&(c(e),b("/chatroom"))}),[]),Object(a.useEffect)((function(){var e=d.current,t=Object(j.f)(m,"users/"+e);Object(j.d)(t,(function(e){var t=e.val();c(t)}))}),[d.current]),Object(a.useEffect)((function(){n&&(sessionStorage.setItem("user",JSON.stringify(n)),d.current=n.accountName)}),[n]),Object(p.jsx)(Me.Provider,{value:{user:n,setUser:c,chatWindow:o,setChatWindow:u},children:Object(p.jsxs)(l.c,{children:[Object(p.jsx)(l.a,{path:"/signin",element:n?Object(p.jsx)(_e,{}):Object(p.jsx)(g,{setUser:c})}),Object(p.jsx)(l.a,{path:"/signup",element:n?Object(p.jsx)(_e,{}):Object(p.jsx)(D,{})}),Object(p.jsx)(l.a,{path:"/chatroom",element:n?Object(p.jsx)(_e,{}):Object(p.jsx)(z,{})}),Object(p.jsx)(l.a,{path:"/useredit",element:n?Object(p.jsx)(Ee,{}):Object(p.jsx)(g,{})}),Object(p.jsx)(l.a,{path:"Chat-Room/",element:n?Object(p.jsx)(_e,{}):Object(p.jsx)(z,{})})]})})},Ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(p.jsx)(o.a,{children:Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(Te,{})})}),document.getElementById("root")),Ie()},9:function(e,t,n){e.exports={login:"main_login__22hVo",formHeading:"main_formHeading__2k895",formPara:"main_formPara__2JWuK",formGroup:"main_formGroup__26tHh",invalid:"main_invalid__1BBJU"}}},[[52,1,2]]]);
//# sourceMappingURL=main.82ff8313.chunk.js.map