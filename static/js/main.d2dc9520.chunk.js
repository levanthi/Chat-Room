(this.webpackJsonpchat_app=this.webpackJsonpchat_app||[]).push([[0],{22:function(e,t,n){e.exports={chatSection:"main_chatSection__3HH8F",chatBox:"main_chatBox__34CnR",sendGroup:"main_sendGroup__1Ih-c",chatItem:"main_chatItem__2Kwf7",name:"main_name__19Ubd",time:"main_time__1ty5m",me:"main_me__1NZQ8"}},25:function(e,t,n){e.exports={header:"main_header__1eVGv",members:"main_members__3W1fB",invite:"main_invite__w5SZs",userInvite:"main_userInvite__1cSMb",appear:"main_appear__ynNLe",error:"main_error__G3gii",noroom:"main_noroom__3NAZC"}},30:function(e,t,n){e.exports={userInfo:"main_userInfo__3mXAp",user:"main_user__89aq3",buttonWrap:"main_buttonWrap__3DRpq",rotate:"main_rotate__VyR-D",changeColor:"main_changeColor__2LbP8",logout:"main_logout__1Zxo0"}},31:function(e,t,n){e.exports={roomList:"main_roomList__2Lf01",list:"main_list__SHIZv",slideTop:"main_slideTop__IV1N8",addRoom:"main_addRoom__4CBbs",addRoombox:"main_addRoombox__3nx6z",appear:"main_appear__3rs8o"}},33:function(e,t,n){e.exports={editForm:"main_editForm__2qoDd"}},38:function(e,t,n){e.exports={home:"main_home__3yhlU"}},39:function(e,t,n){e.exports={chatroom:"main_chatroom__1uN1S"}},40:function(e,t,n){e.exports={SideBar:"main_SideBar__2n53m",roomList:"main_roomList__Cex3b"}},41:function(e,t,n){e.exports={chatWindow:"main_chatWindow__3RwQU"}},50:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(36),c=n.n(r),s=n(17),o=n(8),i=n(7),l=n(37),u=n(5),j=(Object(l.a)({apiKey:"AIzaSyD7qlRtJFMoX3kS3meXSTVK5FJyLYSjQZE",authDomain:"chat-app-b6c92.firebaseapp.com",databaseURL:"https://chat-app-b6c92-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"chat-app-b6c92",storageBucket:"chat-app-b6c92.appspot.com",messagingSenderId:"813309308115",appId:"1:813309308115:web:f894823381c23bed0ab826",measurementId:"G-BYW0P6GBV7"}),Object(u.c)()),m=(n(50),n(16)),b=n.n(m),d=n(20),h=n(9),f=n.n(h),O=n(1),p=document.querySelector.bind(document);function v(e){var t,n={},a=p(e.form);function r(e,a){for(var r=0;r<n[a.selector].length&&!(t=n[a.selector][r](e.value));r++);t&&(e.parentElement.classList.add(f.a.invalid),e.parentElement.querySelector("span").innerText=t)}a&&(e.rules.forEach((function(e){Array.isArray(n[e.selector])?n[e.selector].push(e.test):n[e.selector]=[e.test];var t=a.querySelector(e.selector);t.onblur=function(){r(t,e)},t.oninput=function(){t.parentElement.classList.remove(f.a.invalid),t.parentElement.querySelector("span").innerText=""}})),a.onsubmit=function(t){t.preventDefault(),e.rules.forEach((function(e){r(a.querySelector(e.selector),e)}))})}v.isRequired=function(e,t){return{selector:e,test:function(e){return e.trim()?void 0:t||"vui l\xf2ng nh\u1eadp tr\u01b0\u1eddng n\xe0y!"}}},v.minLength=function(e,t,n){return{selector:e,test:function(e){return e.length>=t?void 0:n||"Tr\u01b0\u1eddng n\xe0y t\xf4i t\u1ed1i thi\u1ec3u ".concat(t," k\xed t\u1ef1!")}}};var x=function(){var e=Object(i.f)(),t=Object(a.useState)(""),n=Object(o.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),l=Object(o.a)(s,2),m=l[0],h=l[1],p=Object(a.useContext)(Ee).setUser,x=Object(a.useRef)();return Object(a.useEffect)((function(){v({form:"#form1",rules:[v.isRequired("#accountName","Vui l\xf2ng nh\u1eadp t\xean t\xe0i kho\u1ea3n!"),v.isRequired("#password","Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u"),v.minLength("#password",6,"m\u1eadt kh\u1ea9u ph\u1ea3i t\u1ed1i thi\u1ec3u 6 k\xed t\u1ef1!")]})}),[]),Object(O.jsx)("div",{className:f.a.login,children:Object(O.jsxs)("form",{id:"form1",children:[Object(O.jsx)("h2",{style:{marginTop:"0"},children:"\u0110\u0103ng Nh\u1eadp"}),Object(O.jsxs)("div",{className:f.a.formGroup,children:[Object(O.jsx)("label",{htmlFor:"accountName",children:"Username"}),Object(O.jsx)("input",{value:r,autoComplete:"off",type:"text",name:"accountName",id:"accountName",placeholder:"VD: expample123",onChange:function(e){c(e.target.value),x.current.innerText=""}}),Object(O.jsx)("span",{className:f.a.errorMessage})]}),Object(O.jsxs)("div",{className:f.a.formGroup,children:[Object(O.jsx)("label",{htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{value:m,placeholder:"Enter password...",type:"password",name:"password",id:"password",onChange:function(e){h(e.target.value),x.current.innerText=""}}),Object(O.jsx)("span",{className:f.a.errorMessage})]}),Object(O.jsx)("span",{ref:x}),Object(O.jsx)("button",{onClick:Object(d.a)(b.a.mark((function t(){var n,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r&&m.length>=6)){t.next=4;break}return n=Object(u.f)(j),t.next=4,Object(u.b)(Object(u.a)(n,"users/"+r)).then((function(t){t.exists()&&(a=t.val()).password===m?(sessionStorage.setItem("user",a),p(a),e("/Chat-Room/chatroom")):x.current.innerText="Username or password incorrect!"})).catch((function(e){console.error(e)}));case 4:case"end":return t.stop()}}),t)}))),children:"\u0110\u0103ng Nh\u1eadp"})]})})},g=n(19),y=n(14),w=n(13);var C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;Object(u.g)(Object(u.f)(j,e+t),Object(y.a)({},n)).then((function(){console.log("susscess")})).catch((function(e){return console.log(e)}))},_=document.querySelector.bind(document),N=document.querySelectorAll.bind(document);function S(e,t){for(;null!==e;){if(e.parentElement.classList.contains(t))return e.parentElement;e=e.parentElement}}var k="name",A="accountName",q="password",E="passwordConfirmation",R="gender",M={name:"",accountName:"",password:"",passwordConfirmation:"",gender:null};function T(e){return{action:R,payload:e}}function I(e,t){switch(t.action){case k:return Object(y.a)(Object(y.a)({},e),{},{name:t.payload});case A:return Object(y.a)(Object(y.a)({},e),{},{accountName:t.payload});case q:return Object(y.a)(Object(y.a)({},e),{},{password:t.payload});case E:return Object(y.a)(Object(y.a)({},e),{},{passwordConfirmation:t.payload});case R:return Object(y.a)(Object(y.a)({},e),{},{gender:t.payload});default:return e}}function V(e){var t,n={},a=_(e.form);if(a){var r=function(e,a,r){if(r=S(e,f.a.formGroup),e)for(var c=0;c<n[a.selector].length&&!(t=n[a.selector][c](e.value));c++);t&&(r.classList.add(f.a.invalid),r.querySelector("span").innerText=t)};e.rules.forEach((function(e){var t=a.querySelector(e.selector),c=S(t,f.a.formGroup);Array.isArray(n[e.selector])?n[e.selector].push(e.test):n[e.selector]=[e.test],t.onblur=function(){r(t,e)},t.oninput=function(){c.classList.remove(f.a.invalid),c.querySelector("span").innerText=""}})),a.querySelector("button").onclick=function(){e.rules.forEach((function(e){var t=a.querySelector(e.selector),n=S(t,f.a.formGroup);r(t,e,n)}))}}}V.isRequired=function(e,t){return{selector:e,test:function(e){return e.trim()?void 0:t||"Vui l\xf2ng nh\u1eadp tr\u01b0\u1eddng n\xe0y!"}}},V.isPassword=function(e,t){return{selector:e,test:function(e){return e.length>=6?void 0:"m\u1eadt kh\u1ea9u ph\u1ea3i t\u1ed1i thi\u1ec3u ".concat(t," k\xed t\u1ef1!")}}},V.isPasswordComfirmation=function(e,t,n){return{selector:e,test:function(e){return e===t()?void 0:n||"Nh\u1eadp l\u1ea1i kh\xf4ng ch\xednh x\xe1c!"}}};var D=function(){var e=Object(i.f)(),t=Object(a.useReducer)(I,M),n=Object(o.a)(t,2),r=n[0],c=n[1],s=Object(a.useRef)(),l=Object(a.useRef)();return Object(a.useEffect)((function(){V({form:"#form1",rules:[V.isRequired("#name","vui l\xf2ng nh\u1eadp t\xean \u0111\u1ea7y \u0111\u1ee7!"),V.isRequired("#accountName","vui l\xf2ng nh\u1eadp t\xean t\xe0i kho\u1ea3n!"),V.isRequired("#password","vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u!"),V.isPassword("#password",6),V.isRequired("#password_confirmation","vui l\xf2ng nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u!"),V.isPassword("#password_confirmation",6),V.isPasswordComfirmation("#password_confirmation",(function(){return _("#form1").querySelector("#password").value}),"M\u1eadt kh\u1ea9u x\xe1c nh\u1eadn kh\xf4ng ch\xednh x\xe1c!")]}),Object(g.a)(N("input[type=radio]")).forEach((function(e){e.onchange=function(){_("#gender").querySelector("span").innerText=""}}))}),[]),Object(a.useEffect)((function(){_("#form1").onsubmit=function(t){if(t.preventDefault(),r.gender?(_("#gender").querySelector("span").innerText="",_("#gender").classList.remove(f.a.invalid)):(_("#gender").querySelector("span").innerText="vui l\xf2ng ch\u1ecdn gi\u1edbi t\xednh",_("#gender").classList.add(f.a.invalid)),!_(".".concat(f.a.invalid))){var n=r;delete n.passwordConfirmation,console.log(n);var a=Object(u.f)(j);Object(u.b)(Object(u.a)(a,"users/".concat(n.accountName))).then((function(t){t.exists()?l.current.innerText="Username is exsisted!":(C("users/",n.accountName,n),alert("SignUp susscess! signin please!!!"),e("/Chat-Room/signin"))})).catch((function(e){console.error(e)}))}}}),[r]),Object(O.jsxs)("div",{className:Object(w.a)(f.a.login,f.a.signUp),children:[Object(O.jsxs)("form",{action:"POST",id:"form1",autoComplete:"off",children:[Object(O.jsx)("div",{className:Object(w.a)(f.a.formHeader),children:Object(O.jsx)("h1",{className:Object(w.a)(f.a.formHeading),children:"\u0110\u0103ng k\xed th\xe0nh vi\xean"})}),Object(O.jsxs)("div",{className:Object(w.a)(f.a.formGroup),children:[Object(O.jsx)("label",{htmlFor:"name",children:"T\xean \u0111\u1ea7y \u0111\u1ee7"}),Object(O.jsx)("input",{value:r.name,type:"text",name:"name",id:"name",placeholder:"VD: L\xea V\u0103n Thi",onChange:function(e){var t;c((t=e.target.value,{action:k,payload:t}))}}),Object(O.jsx)("span",{className:Object(w.a)(f.a.errorMessage)})]}),Object(O.jsxs)("div",{className:Object(w.a)(f.a.formGroup),children:[Object(O.jsx)("label",{htmlFor:"accountName",children:"T\xean t\xe0i kho\u1ea3n"}),Object(O.jsx)("input",{value:r.accountName,name:"accountName",id:"accountName",placeholder:"VD: example1001",onChange:function(e){var t;c((t=e.target.value,{action:A,payload:t})),l.current.innerText=""}}),Object(O.jsx)("span",{className:Object(w.a)(f.a.errorMessage)})]}),Object(O.jsxs)("div",{className:Object(w.a)(f.a.formGroup),children:[Object(O.jsx)("label",{htmlFor:"password",children:"M\u1eadt kh\u1ea9u"}),Object(O.jsx)("input",{value:r.password,type:"password",name:"password",id:"password",placeholder:"M\u1eadt kh\u1ea9u",onChange:function(e){var t;c((t=e.target.value,{action:q,payload:t}))}}),Object(O.jsx)("span",{className:Object(w.a)(f.a.errorMessage)})]}),Object(O.jsxs)("div",{className:Object(w.a)(f.a.formGroup),children:[Object(O.jsx)("label",{htmlFor:"password_confirmation",children:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"}),Object(O.jsx)("input",{value:r.passwordConfirmation,type:"password",name:"password_confirmation",id:"password_confirmation",placeholder:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",onChange:function(e){var t;c((t=e.target.value,{action:E,payload:t}))}}),Object(O.jsx)("span",{className:Object(w.a)(f.a.errorMessage)})]}),Object(O.jsxs)("div",{id:"gender",className:Object(w.a)(f.a.formGroup),children:[Object(O.jsx)("label",{children:"Gi\u1edbi t\xednh"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"radio",name:"gender",value:"male",onChange:function(e){return c(T(e.target.value))}}),"Nam"]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"radio",name:"gender",value:"female",onChange:function(e){return c(T(e.target.value))}}),"Nu"]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"radio",name:"gender",value:"other",onChange:function(e){return c(T(e.target.value))}}),"Khac"]}),Object(O.jsx)("span",{className:Object(w.a)(f.a.errorMessage)})]}),Object(O.jsx)("span",{ref:l}),Object(O.jsx)("button",{ref:s,className:Object(w.a)(f.a.button),children:"\u0110\u0103ng k\xfd"})]}),Object(O.jsx)("script",{src:"../../library/Validator"})]})},U=n(38),B=n.n(U);var L=function(){return console.log("home:rerender"),Object(O.jsxs)("div",{className:Object(w.a)(B.a.home),children:[Object(O.jsx)("h2",{children:"WELCOME TO CHAT APP"}),Object(O.jsx)(s.b,{to:"signin",children:"\u0110\u0103ng Nh\u1eadp"}),Object(O.jsx)(s.b,{to:"signup",children:"\u0110\u0103ng K\xfd"})]})},z=n(39),G=n.n(z),P=n(40),F=n.n(P),K=n(30),X=n.n(K),J="data:image/png;base64,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";var Y,W=function(){var e=Object(i.f)(),t=Object(a.useContext)(Ee),n=t.user,r=t.setUser;return Object(O.jsxs)("div",{className:X.a.userInfo,children:[Object(O.jsxs)("div",{className:X.a.user,children:[Object(O.jsx)(s.b,{to:"/Chat-Room/useredit",children:Object(O.jsx)("img",{src:n.avata||J,alt:"avata"})}),Object(O.jsx)("span",{children:n.name})]}),Object(O.jsxs)("div",{className:X.a.buttonWrap,children:[Object(O.jsx)("button",{className:X.a.logout,onClick:function(){sessionStorage.removeItem("user"),r(void 0),e("/Chat-Room/signin")},children:"\u0110\u0103ng xu\u1ea5t"}),Object(O.jsx)("span",{})]})]})},H=n(6),Z=n(31),Q=n.n(Z),$=["title","titleId"];function ee(){return ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ee.apply(this,arguments)}function te(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ne(e,t){var n=e.title,r=e.titleId,c=te(e,$);return a.createElement("svg",ee({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"greater-than",className:"svg-inline--fa fa-greater-than fa-w-12",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,Y||(Y=a.createElement("path",{fill:"currentColor",d:"M365.52 209.85L59.22 67.01c-16.06-7.49-35.15-.54-42.64 15.52L3.01 111.61c-7.49 16.06-.54 35.15 15.52 42.64L236.96 256.1 18.49 357.99C2.47 365.46-4.46 384.5 3.01 400.52l13.52 29C24 445.54 43.04 452.47 59.06 445l306.47-142.91a32.003 32.003 0 0 0 18.48-29v-34.23c-.01-12.45-7.21-23.76-18.49-29.01z"})))}var ae,re=a.forwardRef(ne),ce=(n.p,["title","titleId"]);function se(){return se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},se.apply(this,arguments)}function oe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ie(e,t){var n=e.title,r=e.titleId,c=oe(e,ce);return a.createElement("svg",se({"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus-square",className:"svg-inline--fa fa-plus-square fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,ae||(ae=a.createElement("path",{fill:"currentColor",d:"M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"})))}var le=a.forwardRef(ie);n.p;var ue=function(){var e=Object(a.useRef)(),t=Object(a.useState)(""),n=Object(o.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),l=i[0],m=i[1],b=Object(a.useContext)(Ee),d=b.user,h=b.setChatWindow;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:Q.a.roomList,children:[Object(O.jsx)("input",{style:{display:"none"},type:"checkbox",id:"roomlist"}),Object(O.jsx)("label",{htmlFor:"roomlist",children:Object(O.jsx)(re,{})}),Object(O.jsx)("span",{children:"Danh s\xe1ch ph\xf2ng"}),Object(O.jsxs)("ul",{className:Q.a.list,children:[d.rooms?d.rooms.map((function(e){return Object(O.jsx)("li",{onClick:function(){return function(e){var t=Object(u.f)(j);Object(u.b)(Object(u.a)(t,"chatrooms/"+e)).then((function(e){e.exists()?h(e.val()):console.log("No data available")})).catch((function(e){console.error(e)}))}(e.id)},children:e.name},e.id)})):"",Object(O.jsxs)("li",{className:Q.a.addRoom,onClick:function(){return e.current.style.display="block"},children:[Object(O.jsx)(le,{}),"Th\xeam ph\xf2ng"]})]})]}),Object(O.jsxs)("div",{ref:e,className:Q.a.addRoombox,children:[Object(O.jsx)("span",{onClick:function(){e.current.style.display="none",c(""),m("")},children:"\xd7"}),Object(O.jsx)("h4",{children:"Room name"}),Object(O.jsx)("input",{value:r,placeholder:"Enter room name",onChange:function(e){return c(e.target.value)}}),Object(O.jsx)("h4",{children:"Description"}),Object(O.jsx)("textarea",{value:l,placeholder:"Description of room",onChange:function(e){return m(e.target.value)}}),Object(O.jsx)("button",{onClick:function(){var t=Math.random().toString(36).substr(2,9);C("chatrooms/",t,{name:r,description:l,members:Object(H.a)({},d.accountName,{avata:d.avata||""}),chatbox:[],id:t});var n=d.rooms||[];n.unshift({id:t,name:r}),C("users/",d.accountName,Object(y.a)(Object(y.a)({},d),{},{rooms:n})),e.current.style.display="none",c(""),m("")},children:"ADD"})]})]})};var je,me=function(){return Object(O.jsxs)("div",{className:F.a.SideBar,children:[Object(O.jsx)(W,{}),Object(O.jsx)(ue,{})]})},be=n(41),de=n.n(be),he=n(25),fe=n.n(he),Oe=["title","titleId"];function pe(){return pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pe.apply(this,arguments)}function ve(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xe(e,t){var n=e.title,r=e.titleId,c=ve(e,Oe);return a.createElement("svg",pe({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"user-plus",className:"svg-inline--fa fa-user-plus fa-w-20",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,je||(je=a.createElement("path",{fill:"currentColor",d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"})))}var ge=a.forwardRef(xe);n.p;var ye=function(){var e,t=Object(a.useContext)(Ee),n=t.chatWindow,r=t.setChatWindow,c=Object(a.useState)(),s=Object(o.a)(c,2),i=s[0],l=s[1],m=Object(a.useRef)(),b=Object(a.useRef)();return Object(a.useEffect)((function(){n&&(e=n.id)}),[n]),Object(a.useEffect)((function(){var t=Object(u.f)(j,"chatrooms/"+e);Object(u.d)(t,(function(e){var t=e.val();r(t)}))}),[e]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{ref:m,className:fe.a.userInvite,children:[Object(O.jsx)("div",{onClick:function(){b.current.innerText="",m.current.style.display="none",l("")},children:"x"}),Object(O.jsx)("h3",{children:"Invite"}),Object(O.jsx)("input",{placeholder:"Enter username...",value:i,onChange:function(e){b.current.innerText="",l(e.target.value)}}),Object(O.jsx)("p",{ref:b,className:fe.a.error}),Object(O.jsx)("button",{onClick:function(){if(i){var e=Object(u.f)(j);Object(u.b)(Object(u.a)(e,"users/".concat(i))).then((function(t){if(t.exists()){var a=t.val().rooms||[];if(a.some((function(e){return e.id===n.id})))return void(b.current.innerText="User had exsisted in this room.");a=[{id:n.id,name:n.name}].concat(Object(g.a)(a));var r={};r["users/".concat(i,"/rooms")]=a,Object(u.h)(e,r),Object(u.b)(Object(u.a)(e,"users/".concat(i,"/avata"))).then((function(e){e.exists()?Object(u.g)(Object(u.f)(j,"chatrooms/"+n.id+"/members/"+i),{avata:e.val()}):Object(u.g)(Object(u.f)(j,"chatrooms/"+n.id+"/members/"+i),{avata:""})})).catch((function(e){console.error(e)})),m.current.style.display="none",b.current.innerText="",l("")}else b.current.innerText="User not found, try again please!"})).catch((function(e){console.error(e)}))}},children:"ADD"})]}),n?Object(O.jsxs)("div",{className:fe.a.header,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:n.name}),Object(O.jsx)("span",{children:n.description})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("span",{onClick:function(){m.current.style.display="block"},className:fe.a.invite,children:[Object(O.jsx)(ge,{}),Object(O.jsx)("span",{children:"M\u1eddi"})]}),Object(O.jsxs)("span",{className:fe.a.members,children:[Object(O.jsx)("img",{src:n.members[Object.keys(n.members)[0]].avata?n.members[Object.keys(n.members)[0]].avata:J,alt:"img1"}),Object.keys(n.members).length>1?Object(O.jsx)("img",{src:n.members[Object.keys(n.members)[1]].avata?n.members[Object.keys(n.members)[1]].avata:J,alt:"img2"}):"",Object.keys(n.members).length>=3?Object(O.jsxs)("span",{style:{justifyContent:"center"},children:["+",Object.keys(n.members).length-2]}):""]})]})]}):Object(O.jsx)("h1",{className:fe.a.noroom,style:{margin:"40px auto"},children:"Vui l\xf2ng ch\u1ecdn room chat!!!"})]})},we=n(22),Ce=n.n(we);var _e=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useContext)(Ee),s=c.chatWindow,i=c.user,l=(c.setChatWindow,Object(a.useState)()),m=Object(o.a)(l,2),b=m[0],d=m[1];function h(){if(n){var e=new Date,t={message:n,avata:i.avata||"",name:i.name,time:e.toLocaleString(),account:i.accountName},a=Object(u.f)(j,"chatrooms/".concat(s.id,"/chatBox")),c=Object(u.e)(a);Object(u.g)(c,t),r("")}}function f(e){if(e===i.accountName)return Ce.a.me}if(Object(a.useEffect)((function(){if(s){var e=Object(u.f)(j,"chatrooms/"+s.id+"/chatBox");Object(u.d)(e,(function(e){d(e.val())}))}}),[s]),s){var p=[];for(var v in s.chatBox||(s.chatBox={}),b)p.unshift(b[v]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:Ce.a.chatSection,children:Object(O.jsx)("div",{className:Ce.a.chatBox,children:p.map((function(e){return Object(O.jsxs)("div",{className:Object(w.a)(Ce.a.chatItem,f(e.account)),children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{src:e.avata||J,alt:"img"}),Object(O.jsx)("span",{className:Ce.a.name,children:e.name}),Object(O.jsx)("span",{className:Ce.a.time,children:e.time})]}),Object(O.jsx)("p",{children:e.message})]},Math.random().toString(36).substr(2,9))}))})}),Object(O.jsxs)("div",{className:Ce.a.sendGroup,children:[Object(O.jsx)("input",{placeholder:"message...",value:n,onChange:function(e){return r(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&h()}}),Object(O.jsx)("button",{onClick:h,children:"G\u1eedi"})]})]})}return Object(O.jsx)(O.Fragment,{})};var Ne=function(){return Object(O.jsxs)("div",{className:de.a.chatWindow,children:[Object(O.jsx)(ye,{}),Object(O.jsx)(_e,{})]})};var Se=function(){return console.log("chat-room:rerender"),Object(O.jsxs)("div",{className:G.a.chatroom,children:[Object(O.jsx)(me,{}),Object(O.jsx)(Ne,{})]})},ke=n(33),Ae=n.n(ke);var qe=function(){console.log("useredit:rerender");var e=Object(a.useContext)(Ee).user,t=Object(a.useState)(),n=Object(o.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(),l=Object(o.a)(s,2),m=l[0],b=l[1],d=Object(i.f)();return Object(a.useEffect)((function(){c(e.name),b(e.avata)}),[e]),Object(O.jsxs)("form",{className:Ae.a.editForm,children:[Object(O.jsx)("span",{children:"Name"}),Object(O.jsx)("input",{value:r,onChange:function(e){c(e.target.value)},className:Ae.a.name}),Object(O.jsx)("span",{children:"Avata URL"}),Object(O.jsx)("input",{value:m,onChange:function(e){b(e.target.value)},className:Ae.a.avata}),Object(O.jsx)("button",{onClick:function(t){if(t.preventDefault(),r){var n={};n["users/".concat(e.accountName,"/name")]=r,n["users/".concat(e.accountName,"/avata")]=m,Object(u.h)(Object(u.f)(j),n),(e.rooms||[]).forEach((function(t){Object(u.g)(Object(u.f)(j,"chatrooms/"+t.id+"/members/"+e.accountName),{avata:m})})),d("/Chat-Room/chatroom")}},children:"UPDATE"})]})},Ee=Object(a.createContext)();var Re=function(){var e=Object(a.useState)(),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),s=Object(o.a)(c,2),l=s[0],m=s[1],b=Object(i.f)(),d=Object(a.useRef)();return Object(a.useLayoutEffect)((function(){var e=JSON.parse(sessionStorage.getItem("user"));e&&(r(e),b("/chatroom"))}),[]),Object(a.useEffect)((function(){var e=d.current;if(e){var t=Object(u.f)(j,"users/"+e);Object(u.d)(t,(function(e){var t=e.val();r(t)}))}}),[d.current]),Object(a.useEffect)((function(){return n&&(sessionStorage.setItem("user",JSON.stringify(n)),d.current=n.accountName),function(){m(null)}}),[n]),console.log("app:rerender"),Object(O.jsx)(Ee.Provider,{value:{user:n,setUser:r,chatWindow:l,setChatWindow:m},children:Object(O.jsxs)(i.c,{children:[Object(O.jsx)(i.a,{path:"Chat-Room/signin",element:n?Object(O.jsx)(Se,{}):Object(O.jsx)(x,{setUser:r})}),Object(O.jsx)(i.a,{path:"Chat-Room/signup",element:n?Object(O.jsx)(Se,{}):Object(O.jsx)(D,{})}),Object(O.jsx)(i.a,{path:"Chat-Room/chatroom",element:n?Object(O.jsx)(Se,{}):Object(O.jsx)(L,{})}),Object(O.jsx)(i.a,{path:"Chat-Room/useredit",element:n?Object(O.jsx)(qe,{}):Object(O.jsx)(x,{})}),Object(O.jsx)(i.a,{path:"Chat-Room/",element:n?Object(O.jsx)(Se,{}):Object(O.jsx)(L,{})})]})})},Me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};c.a.render(Object(O.jsx)(s.a,{children:Object(O.jsx)(Re,{})}),document.getElementById("root")),Me()},9:function(e,t,n){e.exports={login:"main_login__22hVo",signUp:"main_signUp__1ptbx",formHeading:"main_formHeading__2k895",formPara:"main_formPara__2JWuK",formGroup:"main_formGroup__26tHh",invalid:"main_invalid__1BBJU"}}},[[52,1,2]]]);
//# sourceMappingURL=main.d2dc9520.chunk.js.map